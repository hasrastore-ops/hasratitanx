<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TitanX-H11 - Jam Tangan Pintar Premium</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d1.webp" as="image">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" as="style">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '810870364294543');
    fbq('track', 'PageView');

    // Simplified event tracking functions
    function trackAddToCart(quantity = 1) {
      fbq('track', 'AddToCart', {
        content_name: 'TitanX-H11 Smartwatch',
        content_category: 'Watches',
        content_ids: ['titanx-h11'],
        content_type: 'product',
        value: 69.90 * quantity,
        currency: 'MYR'
      });
    }

    function trackInitiateCheckout(quantity, totalValue) {
      fbq('track', 'InitiateCheckout', {
        content_ids: ['titanx-h11'],
        content_type: 'product',
        value: totalValue,
        currency: 'MYR',
        num_items: quantity
      });
    }

    function trackPurchase(quantity, totalValue) {
      fbq('track', 'Purchase', {
        content_ids: ['titanx-h11'],
        content_type: 'product',
        value: totalValue,
        currency: 'MYR',
        num_items: quantity
      });
    }
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=810870364294543&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <style>
        :root {
            --primary-color: #E5D4B1; /* White Gold */
            --secondary-color: #D4AF37; /* Rich Gold */
            --accent-color: #D4AF37;
            --text-light: #F5F5F5;
            --text-dark: #A0A0A0;
            --bg-dark: #1A1A1A;
            --bg-card: #2A2A2A;
            --bg-hover: #3A3A3A;
            --nude-light: #E5D0AC;
            --nude-medium: #D4B896;
            --nude-dark: #C19A6B;
            --premium-dark: #222222;
            --premium-light: #F8F8F8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', 'Playfair Display', serif;
            background: var(--bg-dark);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Header Styles */
        .navbar {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            padding: 15px 0;
            border-bottom: 1px solid var(--nude-light);
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color);
            font-family: 'Playfair Display', serif;
        }

        .nav-link {
            font-weight: 500;
            margin: 0 10px;
            transition: color 0.3s ease;
            color: var(--text-light);
        }

        .nav-link:hover {
            color: var(--primary-color);
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, var(--nude-light), var(--nude-medium));
            border: none;
            padding: 12px 25px;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(229, 212, 175, 0.3);
            color: var(--bg-dark);
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(229, 212, 175, 0.4);
            background: linear-gradient(135deg, var(--nude-medium), var(--nude-dark));
        }

        /* Cart Badge */
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--accent-color);
            color: var(--bg-dark);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Hero Section */
.hero-section {
    padding: 100px 0 80px;
    background: linear-gradient(135deg, var(--premium-dark) 0%, #333333 100%);
    position: relative;
    overflow: hidden;
}

.hero-content {
    position: relative;
    z-index: 2;
}

.hero-text-wrapper {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hero-text-wrapper:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

.text-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('https://sc04.alicdn.com/kf/Ha7c5696594d3456085345d4aa0a5b5bbr/285412054/Ha7c5696594d3456085345d4aa0a5b5bbr.jpg') center/cover;
    transform: scale(1.1); /* Slightly scale to prevent edges */
    z-index: 1;
}

.text-background::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(26, 26, 26, 0.7) 0%, rgba(51, 51, 51, 0.6) 100%);
    z-index: 2;
}

.text-content {
    position: relative;
    z-index: 3;
    padding: 40px;
    background: rgba(26, 26, 26, 0.3);
    backdrop-filter: blur(3px);
    border: 1px solid rgba(229, 212, 175, 0.2);
}

.hero-content h1 {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 20px;
    color: var(--text-light);
    line-height: 1.2;
    animation: fadeInUp 0.8s ease;
    font-family: 'Playfair Display', serif;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.hero-content p {
    font-size: 1.25rem;
    margin-bottom: 30px;
    color: rgba(255, 255, 255, 0.95);
    animation: fadeInUp 0.8s ease 0.2s;
    animation-fill-mode: both;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.hero-image {
    position: relative;
    animation: float 3s ease-in-out infinite;
    z-index: 2;
}

.hero-image img {
    max-width: 100%;
    height: auto;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    border: 2px solid var(--nude-light);
}

.floating-badges {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 10;
}

.badge-float {
    background: var(--bg-card);
    color: var(--text-light);
    padding: 8px 15px;
    border-radius: 50px;
    font-weight: 600;
    margin-bottom: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    animation: slideInRight 0.8s ease;
    border: 1px solid var(--nude-light);
    backdrop-filter: blur(5px);
}

.stock-counter {
    background: rgba(229, 212, 175, 0.15);
    border: 1px solid rgba(229, 212, 175, 0.3);
    color: var(--nude-light);
    padding: 12px 20px;
    border-radius: 10px;
    margin: 20px 0;
    font-weight: 600;
    backdrop-filter: blur(5px);
    display: inline-block;
}

/* Mobile responsiveness */
@media(max-width: 768px) {
    .hero-content h1 {
        font-size: 2.5rem;
    }
    
    .hero-section {
        padding: 80px 0 60px;
    }
    
    .text-content {
        padding: 30px 20px;
    }
}

@media(max-width: 576px) {
    .hero-content h1 {
        font-size: 1.8rem;
    }
    
    .text-content {
        padding: 25px 15px;
    }
    
    .floating-badges {
        top: 10px;
        right: 10px;
    }
    
    .badge-float {
        font-size: 0.8rem;
        padding: 5px 10px;
    }
}
        /* Stock Counter */
        .stock-counter {
            background: rgba(229, 212, 175, 0.1);
            border: 1px solid rgba(229, 212, 175, 0.3);
            color: var(--nude-light);
            padding: 10px 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 600;
        }

        /* Trust Indicators */
        .trust-indicators {
            background: var(--bg-card);
            padding: 20px 0;
            border-bottom: 1px solid var(--nude-light);
        }

        .trust-item {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .trust-item i {
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.5rem;
        }

        /* Features Section - Updated */
        .features-section {
            padding: 80px 0;
            background: var(--bg-dark);
        }

        .feature-image-container {
            margin-bottom: 30px;
            overflow: hidden;
            border-radius: 0;
        }

        .feature-image {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
            border: 1px solid var(--nude-light);
        }

        .feature-image:hover {
            transform: scale(1.05);
        }

        /* Video Section */
        .video-section {
            padding: 80px 0;
            background: var(--bg-card);
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            aspect-ratio: 9/16;
            background: #000;
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--nude-light);
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 2;
        }

        .play-button {
            width: 80px;
            height: 80px;
            background: rgba(229, 212, 175, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            background: rgba(229, 212, 175, 0.3);
            transform: scale(1.1);
        }

        .play-button i {
            color: var(--nude-light);
            font-size: 2.5rem;
        }

        /* Video Controls */
        .video-controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            z-index: 3;
        }

        .video-control-btn {
            background: rgba(0, 0, 0, 0.5);
            color: var(--nude-light);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-control-btn:hover {
            background: rgba(0, 0, 0, 0.7);
            transform: scale(1.1);
        }

        /* Testimonials Section */
        .testimonials-section {
            padding: 80px 0;
            background: var(--bg-card);
        }

        .testimonial-card {
            background: var(--bg-dark);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--nude-light);
        }

        .testimonial-stars {
            color: var(--accent-color);
            margin-bottom: 15px;
        }

        .testimonial-text {
            color: var(--text-light);
        }

        /* WhatsApp Reviews Section */
        .whatsapp-reviews-section {
            padding: 80px 0;
            background: var(--bg-dark);
        }

        .whatsapp-reviews-wrapper {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
        }

        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(229, 212, 175, 0.8);
            color: var(--bg-dark);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .scroll-btn:hover {
            background: rgba(229, 212, 175, 1);
            transform: translateY(-50%) scale(1.1);
        }

        .scroll-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        .scroll-left {
            left: -25px;
        }

        .scroll-right {
            right: -25px;
        }

        .whatsapp-reviews-scroll {
            display: flex;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color);
            scroll-behavior: smooth;
            padding: 20px 0;
            gap: 20px;
        }

        .whatsapp-reviews-scroll::-webkit-scrollbar {
            height: 8px;
        }

        .whatsapp-reviews-scroll::-webkit-scrollbar-track {
            background: var(--bg-hover);
            border-radius: 4px;
        }

        .whatsapp-reviews-scroll::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }

        .whatsapp-review {
            flex: 0 0 auto;
            width: 300px;
            height: 534px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: transform 0.3s ease;
            border: 2px solid var(--nude-light);
        }

        .whatsapp-review:hover {
            transform: scale(1.03);
        }

        .whatsapp-review img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Mobile responsiveness */
        @media(max-width: 768px) {
            .whatsapp-review {
                width: 250px;
                height: 444px;
            }
            
            .scroll-btn {
                width: 40px;
                height: 40px;
            }
            
            .scroll-left {
                left: -20px;
            }
            
            .scroll-right {
                right: -20px;
            }
        }

        @media(max-width: 576px) {
            .whatsapp-review {
                width: 200px;
                height: 356px;
            }
            
            .scroll-btn {
                width: 35px;
                height: 35px;
            }
            
            .scroll-left {
                left: -17px;
            }
            
            .scroll-right {
                right: -17px;
            }
        }

        /* Pricing Section */
        .pricing-section {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--premium-dark) 0%, #333333 100%);
            position: relative;
        }

        .pricing-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/texture-bg.jpg') center/cover;
            opacity: 0.1;
            z-index: -1;
        }

        .pricing-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--nude-light);
        }

        .price-tag {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .original-price {
            text-decoration: line-through;
            color: var(--text-dark);
            font-size: 1.5rem;
        }

        .discount-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--accent-color);
            color: var(--bg-dark);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 700;
            transform: rotate(15deg);
        }

        /* Color Variations - Updated for Grid Layout */
        .color-variation {
            margin-bottom: 20px;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .color-option {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            aspect-ratio: 1/1;
        }

        .color-option.active {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }

        .color-option.sold-out {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .color-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .color-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px;
            text-align: center;
            font-weight: 600;
        }

        .sold-out-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: 600;
            font-size: 12px;
        }

        /* Countdown Timer */
        .countdown-section {
            background: var(--bg-card);
            color: var(--text-light);
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid var(--nude-light);
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .countdown-item {
            background: var(--bg-dark);
            border-radius: 10px;
            padding: 15px 20px;
            min-width: 80px;
            border: 1px solid var(--nude-light);
        }

        .countdown-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .countdown-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* WhatsApp Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .whatsapp-button {
            background: #25d366;
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 30px;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .whatsapp-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(37, 211, 102, 0.6);
        }

        .whatsapp-tooltip {
            position: absolute;
            bottom: 70px;
            right: 0;
            background: var(--bg-card);
            color: var(--text-light);
            padding: 10px 15px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            border: 1px solid var(--nude-light);
            font-size: 14px;
        }

        .whatsapp-float:hover .whatsapp-tooltip {
            opacity: 1;
        }

        /* Order Button */
        .order-float {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
        }

        .order-button {
            background: linear-gradient(135deg, var(--nude-light), var(--nude-medium));
            color: var(--bg-dark);
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 4px 20px rgba(229, 212, 175, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .order-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 30px rgba(229, 212, 175, 0.6);
            background: linear-gradient(135deg, var(--nude-medium), var(--nude-dark));
        }

        .order-tooltip {
            position: absolute;
            bottom: 70px;
            left: 0;
            background: var(--bg-card);
            color: var(--text-light);
            padding: 10px 15px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            border: 1px solid var(--nude-light);
            font-size: 14px;
        }

        .order-float:hover .order-tooltip {
            opacity: 1;
        }

        /* Cart Sidebar - HIDDEN BY DEFAULT */
        .cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: var(--bg-card);
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.5);
            transition: right 0.3s ease;
            z-index: 1100;
            overflow-y: auto;
            visibility: hidden; /* Added to ensure it's completely hidden */
        }

        .cart-sidebar.active {
            right: 0;
            visibility: visible; /* Make visible when active */
        }

        .cart-header {
            background: var(--bg-dark);
            padding: 20px;
            border-bottom: 1px solid var(--nude-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-body {
            padding: 20px;
            padding-bottom: 120px; /* Added padding to ensure checkout button is visible */
        }

        .cart-item {
            background: var(--bg-dark);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-footer {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 400px;
            background: var(--bg-dark);
            padding: 20px;
            border-top: 1px solid var(--nude-light);
            z-index: 1101;
            visibility: hidden; /* Hidden by default */
        }

        .cart-sidebar.active .cart-footer {
            visibility: visible; /* Visible when cart is active */
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1099;
        }

        .cart-overlay.active {
            display: block;
        }

        /* Collapsible Facts */
        .facts-section {
            padding: 40px 0;
            background: var(--bg-card);
        }

        .fact-item {
            margin-bottom: 15px;
            border: 1px solid var(--nude-light);
            border-radius: 10px;
            overflow: hidden;
        }

        .fact-header {
            background: var(--bg-dark);
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .fact-header:hover {
            background: var(--bg-hover);
        }

        .fact-title {
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .fact-title i {
            margin-right: 10px;
            color: var(--accent-color);
        }

        .fact-icon {
            transition: transform 0.3s ease;
        }

        .fact-item.active .fact-icon {
            transform: rotate(180deg);
        }

        .fact-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .fact-item.active .fact-content {
            padding: 15px 20px;
            max-height: 300px;
        }

        /* Checkout Modal */
        .checkout-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            overflow-y: auto;
        }

        .checkout-modal.active {
            display: block;
        }

        .checkout-content {
            background: var(--bg-card);
            max-width: 600px;
            margin: 50px auto;
            border-radius: 20px;
            padding: 30px;
            position: relative;
            border: 1px solid var(--nude-light);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 24px;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            background: var(--bg-dark);
            border: 1px solid var(--nude-light);
            border-radius: 8px;
            color: white;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(229, 212, 175, 0.2);
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .form-control.error {
            border-color: #ef4444;
        }

        .payment-option {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: var(--bg-dark);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-option:hover {
            background: var(--bg-hover);
        }

        .payment-option input {
            margin-right: 10px;
        }

        .success-message {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .whatsapp-confirm {
            background: #25d366;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 20px;
            text-align: center;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Mobile Optimizations */
        @media(max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-section {
                padding: 80px 0 60px;
            }
            
            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
            
            .cart-footer {
                width: 100%;
            }
            
            .countdown-timer {
                gap: 10px;
            }
            
            .countdown-item {
                min-width: 60px;
                padding: 10px 15px;
            }
            
            .countdown-value {
                font-size: 1.5rem;
            }
            
            .order-button {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .checkout-content {
                margin: 20px;
                padding: 20px;
            }
            
            /* Make color selection images bigger on mobile */
            .color-option {
                height: 180px;
            }
            
            .color-option img {
                height: 100%;
                object-fit: cover;
            }
        }
        
        /* Enhanced Mobile Experience */
        @media(max-width: 576px) {
            .hero-content h1 {
                font-size: 1.8rem;
            }
            
            .price-tag {
                font-size: 2rem;
            }
            
            .floating-badges {
                top: 10px;
                right: 10px;
            }
            
            .badge-float {
                font-size: 0.8rem;
                padding: 5px 10px;
            }
            
            .mobile-sticky-checkout {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: var(--bg-card);
                padding: 15px;
                z-index: 1000;
                display: flex;
                justify-content: space-between;
                align-items: center;
                box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.3);
            }
            
            .mobile-sticky-checkout .price {
                font-weight: 700;
                color: var(--primary-color);
                font-size: 1.2rem;
            }
            
            .mobile-sticky-checkout .btn {
                padding: 10px 20px;
                font-weight: 600;
            }
            
            .video-controls {
                bottom: 10px;
            }
            
            .video-control-btn {
                width: 40px;
                height: 40px;
            }
            
            .color-option {
                height: 150px;
            }
            
            .countdown-timer {
                gap: 5px;
            }
            
            .countdown-item {
                min-width: 50px;
                padding: 8px 10px;
            }
            
            .countdown-value {
                font-size: 1.2rem;
            }
            
            /* Adjust color grid for mobile */
            .color-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }
        
        /* Enhanced Cart Styles */
        .discount-info {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: none;
        }
        
        .discount-info.show {
            display: block;
        }
        
        .price-breakdown {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .price-breakdown.original {
            text-decoration: line-through;
            color: var(--text-dark);
        }
        
        .price-breakdown.discount {
            color: #10b981;
            font-weight: 700;
        }
        
        .cart-item-details .voucher-note {
            color: var(--primary-color);
            font-size: 0.85rem;
            margin-bottom: 4px;
            font-style: italic;
        }
        
        .cart-item-details .savings-message {
            color: #10b981;
            font-weight: 600;
            font-size: 0.9rem;
            margin-top: 4px;
            margin-bottom: 0;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .loading-content {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            border: 1px solid var(--nude-light);
        }
        
        .loading-overlay.active .loading-content {
            transform: scale(1);
        }
        
        .loading-spinner {
            display: inline-block;
            width: 60px;
            height: 60px;
            border: 6px solid rgba(229, 212, 175, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 25px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 15px;
        }
        
        .loading-subtext {
            font-size: 16px;
            color: var(--text-dark);
            line-height: 1.5;
        }
        
        .loading-progress {
            height: 6px;
            width: 100%;
            background-color: var(--bg-dark);
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .loading-progress-bar {
            height: 100%;
            width: 0;
            background-color: var(--primary-color);
            border-radius: 3px;
            animation: progress 3s ease-in-out infinite;
        }
        
        @keyframes progress {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }
        
        /* Payment Redirect Modal */
        .payment-redirect-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1050;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }
        
        .payment-redirect-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .payment-redirect-modal-content {
            background: var(--bg-card);
            border-radius: 0.75rem;
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            text-align: center;
            border: 1px solid var(--nude-light);
        }
        
        .payment-redirect-modal.active .payment-redirect-modal-content {
            transform: scale(1);
        }
        
        /* Voucher Popup */
        .voucher-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        
        .voucher-popup.active {
            opacity: 1;
            visibility: visible;
        }
        
        .voucher-content {
            background-color: var(--bg-card);
            border-radius: 15px;
            padding: 30px;
            max-width: 450px;
            width: 90%;
            text-align: center;
            color: var(--text-light);
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s;
            border: 1px solid var(--nude-light);
        }
        
        .voucher-popup.active .voucher-content {
            transform: scale(1);
        }
        
        .voucher-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: var(--text-light);
            cursor: pointer;
            background: none;
            border: none;
        }
        
        .voucher-icon {
            font-size: 60px;
            color: var(--accent-color);
            margin-bottom: 20px;
        }
        
        .voucher-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .voucher-amount {
            font-size: 36px;
            font-weight: 700;
            color: var(--accent-color);
            margin-bottom: 15px;
        }
        
        .voucher-description {
            font-size: 16px;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .voucher-timer {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .timer-unit {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            min-width: 70px;
        }
        
        .timer-value {
            font-size: 24px;
            font-weight: 700;
            display: block;
        }
        
        .timer-label {
            font-size: 12px;
            text-transform: uppercase;
        }
        
        .voucher-claim-btn {
            background-color: var(--accent-color);
            color: var(--bg-dark);
            border: none;
            border-radius: 30px;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
        }
        
        .voucher-claim-btn:hover {
            background-color: #d4940b;
            transform: translateY(-3px);
        }
        
        /* Notification Container */
        .notification-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 999;
            width: 300px;
        }
        
        .notification {
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            animation: slideIn 0.5s ease-out;
            position: relative;
            border: 1px solid var(--nude-light);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .notification-content {
            flex-grow: 1;
        }
        
        .notification-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--text-light);
        }
        
        .notification-message {
            font-size: 0.9rem;
            color: var(--text-dark);
        }
        
        .notification-close {
            position: absolute;
            top: 5px;
            right: 5px;
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-dark);
        }

        /* Order Confirmation Modal */
        .order-confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 3000;
            overflow-y: auto;
        }

        .order-confirmation-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .order-confirmation-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
            animation: fadeInUp 0.5s ease;
            border: 1px solid var(--nude-light);
        }

        .order-success-icon {
            font-size: 5rem;
            color: #10b981;
            margin-bottom: 20px;
        }

        .order-confirmation-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .order-confirmation-message {
            color: var(--text-dark);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .order-details {
            background: var(--bg-dark);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .order-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .order-detail-label {
            color: var(--text-dark);
        }

        .order-detail-value {
            color: var(--text-light);
            font-weight: 600;
        }

        .order-total-row {
            border-top: 1px solid var(--nude-light);
            padding-top: 10px;
            margin-top: 10px;
        }

        .order-total-value {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .whatsapp-cta {
            background: #25d366;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            text-decoration: none;
        }

        .whatsapp-cta:hover {
            background: #128c7e;
            transform: translateY(-2px);
        }

        .close-confirmation {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 24px;
            cursor: pointer;
        }
        
        /* Online Payment Confirmation Modal */
        .online-payment-confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 3000;
            overflow-y: auto;
        }

        .online-payment-confirmation-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .online-payment-confirmation-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
            animation: fadeInUp 0.5s ease;
            border: 1px solid var(--nude-light);
        }

        .online-payment-success-icon {
            font-size: 5rem;
            color: #10b981;
            margin-bottom: 20px;
        }

        .online-payment-confirmation-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .online-payment-confirmation-message {
            color: var(--text-dark);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .online-payment-details {
            background: var(--bg-dark);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .online-payment-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .online-payment-detail-label {
            color: var(--text-dark);
        }

        .online-payment-detail-value {
            color: var(--text-light);
            font-weight: 600;
        }

        .online-payment-total-row {
            border-top: 1px solid var(--nude-light);
            padding-top: 10px;
            margin-top: 10px;
        }

        .online-payment-total-value {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .online-payment-cta {
            background: linear-gradient(135deg, var(--nude-light), var(--nude-medium));
            color: var(--bg-dark);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }

        .online-payment-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(229, 212, 175, 0.4);
        }

        .close-online-payment-confirmation {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 24px;
            cursor: pointer;
        }
        
        /* Social Proof Notifications */
        .social-proof-notification {
            display: flex;
            align-items: center;
            background: var(--bg-card);
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin-bottom: 10px;
            animation: slideInRight 0.5s ease-out;
            transition: opacity 0.3s ease;
            border: 1px solid var(--nude-light);
        }

        .notification-icon {
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .notification-content p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        /* Security Badges Section */
        .security-badges {
            padding: 40px 0;
            background: var(--bg-card);
            text-align: center;
            border-bottom: 1px solid var(--nude-light);
        }
        
        .security-badges h3 {
            color: var(--text-light);
            margin-bottom: 30px;
            font-weight: 600;
        }
        
        .badges-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .badge-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 120px;
        }
        
        .badge-item i {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 10px;
        }
        
        .badge-item span {
            color: var(--text-light);
            font-size: 0.9rem;
            text-align: center;
        }
        
        /* Professional Header Enhancement */
        .professional-header {
            background: var(--bg-card);
            padding: 15px 0;
            border-bottom: 1px solid var(--nude-light);
        }
        
        .professional-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .contact-info {
            display: flex;
            gap: 20px;
        }
        
        .contact-info a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }
        
        .contact-info a:hover {
            color: var(--primary-color);
        }
        
        .contact-info i {
            margin-right: 5px;
            color: var(--accent-color);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            color: var(--text-light);
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }
        
        .social-links a:hover {
            color: var(--primary-color);
        }
        
        /* Enhanced Testimonials */
        .testimonial-author {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
            border: 1px solid var(--nude-light);
        }
        
        .author-info h6 {
            margin: 0;
            color: var(--text-light);
            font-weight: 600;
        }
        
        .author-info small {
            color: var(--text-dark);
        }
        
        .testimonial-date {
            color: var(--text-dark);
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        /* Product Quality Indicators */
        .quality-indicators {
            padding: 40px 0;
            background: var(--bg-dark);
        }
        
        .quality-indicators .container {
            text-align: center;
        }
        
        .quality-indicators h3 {
            color: var(--text-light);
            margin-bottom: 30px;
            font-weight: 600;
        }
        
        .indicators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }
        
        .indicator-item {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
            border: 1px solid var(--nude-light);
        }
        
        .indicator-item:hover {
            transform: translateY(-5px);
        }
        
        .indicator-item i {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 15px;
        }
        
        .indicator-item h4 {
            color: var(--text-light);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .indicator-item p {
            color: var(--text-dark);
            font-size: 0.9rem;
        }
        
        /* Premium Section Divider */
        .premium-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--nude-light), transparent);
            margin: 40px 0;
            width: 80%;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Exclusive Banner */
        .exclusive-banner {
            background: linear-gradient(135deg, var(--nude-light), var(--nude-medium));
            color: var(--bg-dark);
            padding: 20px;
            text-align: center;
            margin: 30px 0;
            border-radius: 10px;
        }
        
        .exclusive-banner h3 {
            font-weight: 700;
            margin-bottom: 10px;
            font-family: 'Playfair Display', serif;
        }
        
        .exclusive-banner p {
            margin: 0;
            font-weight: 500;
        }
        
        /* Offer Section */
        .offer-section {
            padding: 60px 0;
            background: var(--bg-card);
            position: relative;
        }
        
        .offer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .offer-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 50px;
            font-family: 'Playfair Display', serif;
        }
        
        .offer-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        
        .offer-card {
            background: var(--bg-dark);
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--nude-light);
            transition: transform 0.3s ease;
        }
        
        .offer-card:hover {
            transform: translateY(-10px);
        }
        
        .offer-card-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .offer-card-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .offer-card-subtitle {
            font-size: 1rem;
            color: var(--text-dark);
        }
        
        .price-container {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .original-price {
            font-size: 1.2rem;
            color: var(--text-dark);
            text-decoration: line-through;
            margin-bottom: 5px;
        }
        
        .sale-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .price-note {
            font-size: 0.9rem;
            color: var(--text-dark);
            font-style: italic;
        }
        
        .offer-features {
            margin-bottom: 25px;
        }
        
        .offer-feature {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .offer-feature i {
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .offer-feature-text {
            color: var(--text-light);
        }
        
        .offer-cta {
            background: linear-gradient(135deg, var(--nude-light), var(--nude-medium));
            color: var(--bg-dark);
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            text-align: center;
        }
        
        .offer-cta:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(229, 212, 175, 0.4);
        }
        
        @media (max-width: 768px) {
            .offer-title {
                font-size: 2rem;
            }
            
            .offer-cards {
                flex-direction: column;
                align-items: center;
            }
            
            .offer-card {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Professional Header -->
    <div class="professional-header">
        <div class="container">
            <div class="contact-info">
                <a href="tel:+601127412402"><i class="fas fa-phone"></i> +6011-27412402</a>
                <a href="mailto:support@hasrastore.my"><i class="fas fa-envelope"></i> support@hasrastore.my</a>
            </div>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"> TitanX/Hasrastore </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#features">Ciri-ciri</a></li>
                    <li class="nav-item"><a class="nav-link" href="#testimonials">Ulasan</a></li>
                    <li class="nav-item"><a class="nav-link" href="#pricing">Harga</a></li>
                    <li class="nav-item">
                        <button class="btn btn-primary-custom ms-3 position-relative" onclick="toggleCart()">
                            <i class="fas fa-shopping-cart"></i> Troli
                            <span class="cart-badge" id="cartBadge">0</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

   <!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 hero-content">
                <div class="hero-text-wrapper">
                    <div class="text-background"></div>
                    <div class="text-content">
                        <h1>TitanX-H11: Kualiti Premium Untuk Gaya Hidup Moden</h1>
                        <p>Pantau kesihatan dengan tepat, kekal aktif, dan nampak bergaya dengan jam tangan pintar premium kami yang direka untuk ketahanan dan prestasi.</p>
                        <div class="stock-counter fa-shake">
                            <i class="fas fa-fire me-2"></i> <span id="stockLeft">16</span> unit tinggal - Jangan Terlepas!
                        </div>
                        <div class="d-flex flex-column flex-sm-row gap-3">
                            <button class="btn btn-light btn-lg px-4 py-3 fa-beat" onclick="scrollToPricing()">
                                <i class="fas fa-shopping-cart me-2"></i> Beli Sekarang - Jimat RM119.10
                            </button>
                            <button class="btn btn-outline-light btn-lg px-4 py-3" onclick="showVideo()">
                                <i class="fas fa-play-circle me-2"></i> Lihat Video
                            </button>
                        </div>
                        <div class="mt-4">
                            <small class="text-white-50"><i class="fas fa-truck me-2"></i> Penghantaran Percuma | Warranty 1 Bulan</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 hero-image">
                <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d1.webp" alt="TitanX-H11 Smartwatch" class="img-fluid">
                <div class="floating-badges">
                    <div class="badge-float"><i class="fas fa-star text-warning"></i> 4.9/5 Rating</div>
                    <div class="badge-float"><i class="fas fa-users text-info"></i> <span id="buyersToday">26</span> pembeli hari ini</div>
                </div>
            </div>
        </div>
    </div>
</section>


    <!-- Trust Indicators -->
    <section class="trust-indicators">
        <div class="container">
            <div class="row">
                <div class="col-6 col-md-3 trust-item">
                    <i class="fas fa-shield-alt"></i>
                    <span>Pembayaran Selamat- FPX, Maybank, QR </span>
                </div>
                <div class="col-6 col-md-3 trust-item">
                    <i class="fas fa-award"></i>
                    <span>Kualiti Premium</span>
                </div>
                <div class="col-6 col-md-3 trust-item">
                    <i class="fas fa-users"></i>
                    <span>50K+ Pembeli Berpuas Hati </span>
                </div>
                <div class="col-6 col-md-3 trust-item">
                    <i class="fas fa-bolt"></i>
                    <span>Penghantaran Pantas 1-3 Hari </span>
                </div>
            </div>
        </div>
    </section>

    <!-- Security Badges Section -->
    <section class="security-badges">
        <div class="container">
            <h3>Pembayaran Selamat & Terjamin</h3>
            <div class="badges-container">
                <div class="badge-item">
                    <i class="fas fa-lock"></i>
                    <span>SSL Encryption</span>
                </div>
                <div class="badge-item">
                    <i class="fas fa-credit-card"></i>
                    <span>FPX Payment</span>
                </div>
                <div class="badge-item">
                    <i class="fas fa-university"></i>
                    <span>Bank Transfer</span>
                </div>
                <div class="badge-item">
                    <i class="fas fa-qrcode"></i>
                    <span>QR Payment</span>
                </div>
                <div class="badge-item">
                    <i class="fas fa-shield-alt"></i>
                    <span>Data Protection</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Section -->
    <section class="video-section" id="videoSection">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold">Video TitanX-H11</h2>
                <p class="lead text-white">Tekan Play dan Lihat sendiri kehebatan jam tangan pintar ini</p>
            </div>
            <div class="video-container">
                <video id="productVideo" width="100%" height="100%" style="object-fit: cover;">
                    <source src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/v1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-overlay" id="videoOverlay">
                    <div class="play-button">
                        <i class="fas fa-play"></i>
                    </div>
                </div>
                <div class="video-controls">
                    <button class="video-control-btn" id="playPauseBtn" onclick="togglePlayPause()">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="video-control-btn" id="replayBtn" onclick="replayVideo()">
                        <i class="fas fa-redo"></i>
                    </button>
                    <button class="video-control-btn" id="muteBtn" onclick="toggleMute()">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section - Updated -->
    <section class="features-section" id="features">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold text-white">Fungsi Khas Jam</h2>
            </div>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="feature-image-container">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d1.webp" alt="Health Monitoring" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d2.webp" alt="Workout Modes" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d3.webp" alt="Battery Life" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d4.webp" alt="Connectivity" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d5.webp" alt="Water Resistant" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d6.webp" alt="Customizable Design" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d7.webp" alt="Customizable Design" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d8.webp" alt="Water Resistant" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d9.webp" alt="Customizable Design" class="feature-image">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/d10.webp" alt="Customizable Design" class="feature-image">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Quality Indicators -->
    <section class="quality-indicators">
        <div class="container">
            <h3>Kualiti & Kebolehpercayaan</h3>
            <div class="indicators-grid">
                <div class="indicator-item">
                    <i class="fas fa-battery-full"></i>
                    <h4>Bateri Tahan Lama</h4>
                    <p>Sehingga 7 hari penggunaan normal dengan satu cas penuh</p>
                </div>
                <div class="indicator-item">
                    <i class="fas fa-tint"></i>
                    <h4>Tahan Air</h4>
                    <p>Perlindungan IP65 untuk aktiviti harian dan sukan</p>
                </div>
                <div class="indicator-item">
                    <i class="fas fa-heartbeat"></i>
                    <h4>Pemantauan Kesihatan</h4>
                    <p>Sensor canggih untuk kadar denyutan jantung dan oksigen darah</p>
                </div>
                <div class="indicator-item">
                    <i class="fas fa-mobile-alt"></i>
                    <h4>Kompatibiliti Universal</h4>
                    <p>Sesuai dengan iOS dan Android</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Exclusive Banner -->
    <div class="container">
        <div class="exclusive-banner">
            <h3>Koleksi Eksklusif Edisi Terhad</h3>
            <p>Dapatkan TitanX-H11 dengan rekaan premium yang hanya tersedia untuk pelanggan istimewa</p>
        </div>
    </div>

    <!-- Premium Divider -->
    <div class="premium-divider"></div>

    <!-- Testimonials Section -->
    <section class="testimonials-section" id="testimonials">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold text-white">Apa Kata Pelanggan Kami</h2>
                <p class="lead text-white">Sertai 1,265 pengguna berpuas hati di Malaysia</p>
            </div>
            <div class="row">
                <div class="col-md-6 col-lg-4">
                    <div class="testimonial-card">
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">"First time beli jam online dan terus jatuh hati! Design memang lawa, connect ke phone pun senang. Bayar online selamat & cepat, seller pun responsif"</p>
                        <div class="testimonial-author">
                            <img src="https://picsum.photos/seed/user1/50/50.jpg" alt="User" class="author-avatar rounded-circle">
                            <div>
                                <h6 class="mb-0 text-white">Ahmad Razif</h6>
                                <div class="testimonial-date">Verified Buyer<span> </span><i class="fa-solid fa-circle-check"></i></div>
                                <div class="testimonial-date">2 minggu lepas</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="testimonial-card">
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">"Ini kali kedua saya beli sebab puas hati dengan kualiti. Seller cepat respon, barang original, dan online payment sangat mudah. Terbaik TitanX-H11 ni!"</p>
                        <div class="testimonial-author">
                            <img src="https://picsum.photos/seed/user2/50/50.jpg" alt="User" class="author-avatar rounded-circle">
                            <div>
                                <h6 class="mb-0 text-white">Nurhaliza</h6>
                                <div class="testimonial-date">Verified Buyer<span> </span><i class="fa-solid fa-circle-check"></i></div>
                                <div class="testimonial-date">1 bulan lepas</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="testimonial-card">
                        <div class="testimonial-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">"Dah seminggu pakai, semua fungsi ok , heart rate, message alert, sleep tracking semua jalan."</p>
                        <div class="testimonial-author">
                            <img src="https://picsum.photos/seed/user3/50/50.jpg" alt="User" class="author-avatar rounded-circle">
                            <div>
                                <h6 class="mb-0 text-white">Mohd Danial</h6>
                                <div class="testimonial-date">Verified Buyer<span> </span><i class="fa-solid fa-circle-check"></i></div>
                                <div class="testimonial-date">3 minggu lepas</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

   <!-- WhatsApp Reviews Section -->
<section class="whatsapp-reviews-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-4 fw-bold text-white">Ulasan WhatsApp Pelanggan</h2>
            <p class="lead text-white">Lihat sendiri apa kata pelanggan kami</p>
        </div>
        <div class="whatsapp-reviews-container">
            <div class="whatsapp-reviews-wrapper">
                <button class="scroll-btn scroll-left" id="scrollLeft">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="whatsapp-reviews-scroll" id="whatsappReviewsScroll">
                    <div class="whatsapp-review">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/w1.webp" alt="WhatsApp Review 1">
                    </div>
                    <div class="whatsapp-review">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/w2.webp" alt="WhatsApp Review 2">
                    </div>
                    <div class="whatsapp-review">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/w3.webp" alt="WhatsApp Review 3">
                    </div>
                    <div class="whatsapp-review">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/w4.webp" alt="WhatsApp Review 4">
                    </div>
                    <div class="whatsapp-review">
                        <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/w5.webp" alt="WhatsApp Review 5">
                    </div>
                </div>
                <button class="scroll-btn scroll-right" id="scrollRight">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</section>

    <!-- Offer Section -->
    <section class="offer-section" id="offers">
        <div class="offer-container">
            <h2 class="offer-title">Harga Tak Masuk AKAL!</h2>
            <div class="offer-cards">
                <!-- Online Payment Offer -->
                <div class="offer-card">
                    <div class="offer-card-header">
                        <h3 class="offer-card-title">ONLINE PAYMENT</h3>
                        <p class="offer-card-subtitle">Jimat Sehingga RM119.10 untuk yang bayar On9, Voucher terhad! </p>
                    </div>
                    <div class="price-container">
                        <p class="original-price">HARGA ASAL RM189.00</p>
                        <p class="sale-price fa-beat-fade">RM69.90</p>
                        <p class="price-note fa-shake">UNTUK 16 unit lagi</p>
                    </div>
                    <div class="offer-features">
                        <div class="offer-feature">
                            <i class="fas fa-truck"></i>
                            <span class="offer-feature-text">CEPAT SAMPAI- 1~3 HARI </span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-shipping-fast"></i>
                            <span class="offer-feature-text">FREE SHIPPING</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-shield-alt"></i>
                            <span class="offer-feature-text">WARRANTY</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-clock"></i>
                            <span class="offer-feature-text">POST DALAM MASA 24 JAM</span>
                        </div>
                    </div>
                    <button class="offer-cta fa-bounce" onclick="selectOffer('online')">BELI GUNA ON9 PAYMENT</button>
                </div>
                
                <!-- COD Offer -->
                <div class="offer-card">
                    <div class="offer-card-header">
                        <h3 class="offer-card-title">COD - BAYAR BILA SAMPAI</h3>
                        <p class="offer-card-subtitle">Bayar Hanya Bila Barang Tiba</p>
                    </div>
                    <div class="price-container">
                        <p class="original-price">HARGA ASAL RM189.00</p>
                        <p class="sale-price">RM79.90</p>
                        <p class="price-note">(COST COD RM10)</p>
                    </div>
                    <div class="offer-features">
                        <div class="offer-feature">
                            <i class="fas fa-truck"></i>
                            <span class="offer-feature-text">DELIVERY 3-7 HARI</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-dollar-sign"></i>
                            <span class="offer-feature-text">+RM 10 Cas dari COURIER</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-shield-alt"></i>
                            <span class="offer-feature-text">WARRANTY</span>S
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-clock"></i>
                            <span class="offer-feature-text">POST DALAM MASA 1-3 HARI</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fa-solid fa-money-bill-1-wave fa-beat-fade"></i>
                            <span>BAYAR BILA SAMPAI</span>
                        </div>
                    </div>
                    <button class="offer-cta" onclick="selectOffer('cod')">BELI GUNA COD</button>
                </div>
                
                <!-- Bundle Offer -->
                <div class="offer-card">
                    <div class="offer-card-header">
                        <h3 class="offer-card-title">BUNDLE</h3>
                        <p class="offer-card-subtitle">Beli 2 Unit atau Lebih</p>
                    </div>
                    <div class="price-container">
                        <p class="original-price">ORIGINAL PRICE RM189.00</p>
                        <p class="sale-price fa-beat">RM59.90/unit</p>
                        <p class="price-note">Jimat Lebih Banyak</p>
                    </div>
                    <div class="offer-features">
                        <div class="offer-feature">
                            <i class="fas fa-truck"></i>
                            <span class="offer-feature-text">DELIVERY 1-3 HARI</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-shipping-fast"></i>
                            <span class="offer-feature-text">FREE SHIPPING</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-shield-alt"></i>
                            <span class="offer-feature-text">WARRANTY</span>
                        </div>
                        <div class="offer-feature">
                            <i class="fas fa-clock"></i>
                            <span class="offer-feature-text">POST DALAM MASA 24 JAM</span>
                        </div>
                    </div>
                    <button class="offer-cta fa-bounce" onclick="selectOffer('bundle')">ORDER COMBO 2</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="pricing-card text-center">
                        <div class="discount-badge fa-beat-fade">TAWARAN TERHAD</div>
                        <h2 class="display-5 fw-bold mb-4">TitanX-H11</h2>
                        <div class="mb-4">
                            <span class="original-price">RM189</span>
                            <div class="price-tag">RM69.90</div>
                            <p class="lead text-white">Jimat RM119.10 (63% OFF)</p>
                            <p class="text-success"><i class="fas fa-truck me-2"></i>Penghantaran Percuma</p>
                        </div>
                        
                        <!-- Color Variations - Updated Grid Layout -->
<div class="mb-4">
    <h5 class="text-white">Pilih Warna:</h5>
    <div class="color-grid">
        <div class="color-option active" onclick="selectColor(0, 'black')">
            <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/black.webp" alt="Black">
            <div class="color-label">Black</div>
        </div>
        <div class="color-option" onclick="selectColor(1, 'green')">
            <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/green.webp" alt="Green">
            <div class="color-label">Green</div>
        </div>
        <div class="color-option sold-out" onclick="selectColor(2, 'brown')">
            <img src="https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/brown.webp" alt="Brown">
            <div class="color-label">Brown</div>
            <div class="sold-out-badge">HABIS</div>
        </div>
    </div>
</div>
                        
                        <div class="mb-4">
                            <div class="d-flex justify-content-center align-items-center gap-3">
                                <button class="btn btn-outline-light" onclick="decreaseQuantity()">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span id="quantity" class="fs-4">1</span>
                                <button class="btn btn-outline-light" onclick="increaseQuantity()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <button class="btn btn-primary-custom btn-lg px-5 py-3" onclick="addToCart()">
                            <i class="fas fa-shopping-cart me-2"></i> Order Sekarang
                        </button>
                        
                        <div class="mt-4">
                            <small class="text-white">
                                <i class="fas fa-shield-alt me-2"></i> Jaminan Wang Kembali 30 Hari
                                <br>
                                <i class="fas fa-truck me-2"></i> Penghantaran Express Percuma Seluruh Malaysia
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Facts Section -->
    <section class="facts-section">
        <div class="container">
            <div class="fact-item">
                <div class="fact-header" onclick="toggleFact(this)">
                    <div class="fact-title">
                        <i class="fas fa-truck"></i> Penghantaran
                    </div>
                    <i class="fas fa-chevron-down fact-icon"></i>
                </div>
                <div class="fact-content">
                    <p>1 hingga 3 hari untuk semenanjung jika order online payment/bank transfer</p>
                    <p>Untuk cash on delivery 3 hingga 7 hari</p>
                </div>
            </div>
            
            <div class="fact-item">
                <div class="fact-header" onclick="toggleFact(this)">
                    <div class="fact-title">
                        <i class="fas fa-undo"></i> Free Return
                    </div>
                    <i class="fas fa-chevron-down fact-icon"></i>
                </div>
                <div class="fact-content">
                    <p>Kerosakkan dalam masa 7 hari setelah Smartwatch sampai</p>
                </div>
            </div>
            
            <div class="fact-item">
                <div class="fact-header" onclick="toggleFact(this)">
                    <div class="fact-title">
                        <i class="fas fa-shield-alt"></i> Warranty
                    </div>
                    <i class="fas fa-chevron-down fact-icon"></i>
                </div>
                <div class="fact-content">
                    <p>1 bulan warranty</p>
                </div>
            </div>
            
            <div class="fact-item">
                <div class="fact-header" onclick="toggleFact(this)">
                    <div class="fact-title">
                        <i class="fas fa-credit-card"></i> Pembayaran
                    </div>
                    <i class="fas fa-chevron-down fact-icon"></i>
                </div>
                <div class="fact-content">
                    <p>Pembayaran melalui online transfer di website</p>
                    <p>Untuk pembayaran melalui bank/qr sila buat order dan tekan whatsapp untuk sahkan pesanan</p>
                    <p>Pembayaran COD - Sampai baru bayar ada cas tambahan dari courier RM10</p>
                </div>
            </div>
        </div>
    </section>


    <!-- WhatsApp Button -->
    <div class="whatsapp-float">
        <div class="whatsapp-tooltip">Klik untuk order via WhatsApp</div>
        <a href="https://wa.me/601127412402?text=Saya%20nak%20order%20TitanX-H11%20guna%20qr/bank%20transfer" target="_blank">
            <button class="whatsapp-button">
                <i class="fab fa-whatsapp"></i>
            </button>
        </a>
    </div>

    <!-- Order Button -->
    <div class="order-float">
        <div class="order-tooltip">Order sekarang & Jimat RM119.10</div>
        <button class="order-button" onclick="scrollToPricing()">
            <i class="fas fa-shopping-cart me-2"></i> Order - Jimat RM119.10
        </button>
    </div>


    <!-- Cart Sidebar - HIDDEN BY DEFAULT -->
    <div class="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h5><i class="fas fa-shopping-cart me-2"></i> Troli Beli-belah</h5>
            <button class="btn btn-sm btn-outline-light" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-body" id="cartBody">
            <p class="text-center text-white">Troli anda kosong</p>
        </div>
        <div class="cart-footer">
            <div class="discount-info" id="discount-info">
                <p><strong>Diskaun:</strong></p>
                <div class="price-breakdown original">
                    <span>Harga Asal:</span>
                    <span id="original-price">RM0</span>
                </div>
                <div class="price-breakdown discount">
                    <span>Jumlah Diskaun:</span>
                    <span id="discounted-price">-RM0</span>
                </div>
                <p>Jimat <span id="savings-amount">RM0</span>!</p>
            </div>
            <div class="d-flex justify-content-between mb-3">
                <span class="text-white">Jumlah:</span>
                <span class="fw-bold text-white fa-beat" id="cartTotal">RM0</span>
            </div>
            <div class="d-flex justify-content-between mb-3">
                <span class="text-white">Harga Asal:</span>
                <span class="text-white" id="cartOriginalPrice">RM0</span>
            </div>
            <div class="d-flex justify-content-between mb-3">
                <span class="text-white">Jimat:</span>
                <span class="text-success fw-bold" id="cartSavings">RM0</span>
            </div>
            <button class="btn btn-primary-custom w-100" onclick="openCheckout()">
                <i class="fas fa-credit-card me-2"></i> Checkout
            </button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-content">
            <button class="close-modal" onclick="closeCheckout()">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="mb-4">Maklumat Penghantaran</h3>
            
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle me-2"></i> Pesanan anda telah diterima!
            </div>
            
            <form id="checkoutForm">
                <div class="form-group">
                    <label class="form-label text-white">Nama</label>
                    <input type="text" class="form-control" id="customerName" placeholder="Contoh: Ahmad bin Ismail">
                    <div class="error-message" id="nameError">Sila masukkan nama anda</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label text-white">No Telephone (WhatsApp)</label>
                    <input type="tel" class="form-control" id="customerPhone" placeholder="Contoh: 0123456789">
                    <div class="error-message" id="phoneError">Sila masukkan nombor telefon yang sah (10-11 digit)</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label text-white">Alamat</label>
                    <input type="text" class="form-control" id="customerAddress" placeholder="Contoh: No 123, Jalan ABC, Taman XYZ">
                    <div class="error-message" id="addressError">Sila masukkan alamat penghantaran yang lengkap</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label text-white">Poskod</label>
                    <input type="text" class="form-control" id="customerPostcode" placeholder="Contoh: 12345">
                    <div class="error-message" id="postcodeError">Sila masukkan poskod yang sah (5 digit)</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label text-white">Negeri</label>
                    <select class="form-control" id="customerState">
                        <option value="">Pilih negeri</option>
                        <option value="johor">Johor</option>
                        <option value="kedah">Kedah</option>
                        <option value="kelantan">Kelantan</option>
                        <option value="melaka">Melaka</option>
                        <option value="negeri-sembilan">Negeri Sembilan</option>
                        <option value="pahang">Pahang</option>
                        <option value="perak">Perak</option>
                        <option value="perlis">Perlis</option>
                        <option value="pulau-pinang">Pulau Pinang</option>
                        <option value="sabah">Sabah</option>
                        <option value="sarawak">Sarawak</option>
                        <option value="selangor">Selangor</option>
                        <option value="terengganu">Terengganu</option>
                        <option value="kuala-lumpur">Kuala Lumpur</option>
                        <option value="labuan">Labuan</option>
                        <option value="putrajaya">Putrajaya</option>
                    </select>
                    <div class="error-message" id="stateError">Sila pilih negeri</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label text-white">Cara Pembayaran</label>
                    <div class="payment-option" onclick="selectPayment('online')">
                        <input type="radio" name="payment" value="online" id="onlinePayment" checked>
                        <label for="onlinePayment">Pembayaran Online-FPX, mahu QR sila tekan Button Whatsapp</label>
                    </div>
                    <div class="payment-option" onclick="selectPayment('cod')">
                        <input type="radio" name="payment" value="cod" id="codPayment">
                        <label for="codPayment">Bayar bila Barang Sampai (COD) - Cas tambahan RM10 (Tidak tersedia untuk Sabah & Sarawak)</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="confirmInfo">
                        <label class="form-check-label text-white" for="confirmInfo">
                            Saya mengesahkan maklumat di atas adalah betul
                        </label>
                    </div>
                    <div class="error-message" id="confirmError">Sila tick untuk mengesahkan maklumat</div>
                </div>
                
                <button type="button" class="btn btn-primary-custom w-100" onclick="submitOrder()">
                    <i class="fas fa-shopping-cart me-2"></i> Hantar Pesanan
                </button>
            </form>
            
            <a href="#" class="whatsapp-confirm" id="whatsappConfirm" style="display: none;" target="_blank">
                <i class="fab fa-whatsapp me-2"></i> Sahkan Pesanan di WhatsApp
            </a>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="order-confirmation-modal" id="orderConfirmationModal">
        <div class="order-confirmation-content">
            <button class="close-confirmation" onclick="closeOrderConfirmation()">
                <i class="fas fa-times"></i>
            </button>
            <div class="order-success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="order-confirmation-title">Pesanan Anda Berjaya!</h2>
            <p class="order-confirmation-message">
                Terima kasih kerana membeli dari HASRASTORE! Pesanan anda telah diterima dan akan diproses segera.
            </p>
            
            <div class="order-details">
                <div class="order-detail-row">
                    <span class="order-detail-label">Order ID:</span>
                    <span class="order-detail-value" id="orderId">#TX0000</span>
                </div>
                <div class="order-detail-row">
                    <span class="order-detail-label">Produk:</span>
                    <span class="order-detail-value" id="orderProduct">TitanX-H11</span>
                </div>
                <div class="order-detail-row">
                    <span class="order-detail-label">Kuantiti:</span>
                    <span class="order-detail-value" id="orderQuantity">1</span>
                </div>
                <div class="order-detail-row">
                    <span class="order-detail-label">Jumlah Bayaran:</span>
                    <span class="order-detail-value" id="orderTotal">RM69.90</span>
                </div>
                <div class="order-detail-row order-total-row">
                    <span class="order-detail-label">Jumlah Bayaran kepada Posmen:</span>
                    <span class="order-total-value" id="orderCodTotal">RM79.90</span>
                </div>
            </div>
            
            <p class="order-confirmation-message">
                <strong>Penting:</strong> Sila klik butang WhatsApp di bawah untuk mengesahkan pesanan anda. Ini akan mempercepatkan proses penghantaran!
            </p>
            
            <a href="#" class="whatsapp-cta" id="whatsappCta" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-whatsapp"></i>
                <span>Klik WhatsApp untuk Sahkan Pesanan</span>
            </a>
        </div>
    </div>
    
    <!-- Online Payment Confirmation Modal -->
    <div class="online-payment-confirmation-modal" id="onlinePaymentConfirmationModal">
        <div class="online-payment-confirmation-content">
            <button class="close-online-payment-confirmation" onclick="closeOnlinePaymentConfirmation()">
                <i class="fas fa-times"></i>
            </button>
            <div class="online-payment-success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="online-payment-confirmation-title">Pesanan diterima, sila buat pembayaran</h2>
            <p class="online-payment-confirmation-message">
                Terima kasih kerana membeli dari HASRASTORE! Pesanan anda telah diterima. Sila klik butang di bawah untuk membuat pembayaran sebelum voucher tamat.
            </p>
            
            <div class="online-payment-details">
                <div class="online-payment-detail-row">
                    <span class="online-payment-detail-label">Order ID:</span>
                    <span class="online-payment-detail-value" id="onlineOrderId">#TX0000</span>
                </div>
                <div class="online-payment-detail-row">
                    <span class="online-payment-detail-label">Produk:</span>
                    <span class="online-payment-detail-value" id="onlineOrderProduct">TitanX-H11</span>
                </div>
                <div class="online-payment-detail-row">
                    <span class="online-payment-detail-label">Kuantiti:</span>
                    <span class="online-payment-detail-value" id="onlineOrderQuantity">1</span>
                </div>
                <div class="online-payment-detail-row">
                    <span class="online-payment-detail-label">Jumlah Bayaran:</span>
                    <span class="online-payment-detail-value" id="onlineOrderTotal">RM69.90</span>
                </div>
            </div>
            
            <p class="online-payment-confirmation-message">
                <strong>Penting:</strong> Sila tekan butang di atas untuk buat pembayaran sebelum voucher tamat.
            </p>
            
            <button class="online-payment-cta" id="onlinePaymentCta" onclick="redirectToPayment()">
                <i class="fas fa-credit-card"></i>
                <span>Klik untuk Pembayaran Online</span>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer style="background: var(--bg-card); padding: 50px 0 20px;">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3" style="color: var(--primary-color);">HASRASTORE</h5>
                    <p>Jam tangan pintar generasi terbaru untuk gaya hidup moden.</p>
                    <div class="mt-3">
                        <a href="#" class="text-light me-3"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-tiktok fa-lg"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3" style="color: var(--primary-color);">Hubungi</h5>
                    <p><i class="fas fa-envelope me-2"></i> support@hasrastore.my</p>
                    <p><i class="fas fa-phone me-2"></i> +6011-27412402</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3" style="color: var(--primary-color);">Maklumat</h5>
                    <p><i class="fas fa-map-marker-alt me-2"></i> Kuala Lumpur, Malaysia</p>
                    <p><i class="fas fa-clock me-2"></i> Isnin - Jumaat: 9AM - 6PM</p>
                </div>
            </div>
            <div class="premium-divider"></div>
            <div class="text-center">
                <p class="mb-0 text-muted">&copy; 2024 HASRASTORE. Hak cipta terpelihara.</p>
            </div>
        </div>
    </footer>

    <!-- Voucher Popup -->
    <div class="voucher-popup" id="voucher-popup">
        <div class="voucher-content">
            <button class="voucher-close" id="voucher-close">&times;</button>
            <div class="voucher-icon">
                <i class="fas fa-gift"></i>
            </div>
            <h2 class="voucher-title">Tahniah! Anda Dapat Voucher</h2>
            <div class="voucher-amount">RM119.10 Off</div>
            <p class="voucher-description">Voucher ini sah selama 15 minit sahaja. Sila gunakan segera untuk pembelian anda!</p>
            <div class="voucher-timer" id="voucher-timer">
                <div class="timer-unit">
                    <span class="timer-value" id="voucher-minutes">15</span>
                    <span class="timer-label">Minutes</span>
                </div>
                <div class="timer-unit">
                    <span class="timer-value" id="voucher-seconds">00</span>
                    <span class="timer-label">Seconds</span>
                </div>
            </div>
            <button class="voucher-claim-btn" id="voucher-claim-btn">Claim</button>
        </div>
    </div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Memproses tempahan anda...</div>
            <div class="loading-subtext">Sila tunggu sebentar, jangan tutup halaman ini</div>
            <div class="loading-progress">
                <div class="loading-progress-bar"></div>
            </div>
        </div>
    </div>
    
    <!-- Payment Loading Modal -->
    <div id="paymentLoadingModal" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Menghubungkan ke sistem pembayaran...</div>
            <div class="loading-subtext">Sila tunggu, anda akan diarahkan ke halaman pembayaran dalam masa terdekat</div>
            <div class="loading-progress">
                <div class="loading-progress-bar"></div>
            </div>
        </div>
    </div>
    
    <!-- Payment Redirect Modal -->
    <div id="paymentRedirectModal" class="payment-redirect-modal">
        <div class="payment-redirect-modal-content">
            <i class="fas fa-credit-card text-primary text-5xl mb-4" style="color: var(--primary-color);"></i>
            <h3 class="text-2xl font-bold mb-2">Pembayaran Dalam Talian</h3>
            <p class="mb-6">Klik butang di bawah untuk meneruskan ke pembayaran.</p>
            <button id="manualRedirectBtn" class="btn btn-primary px-6 py-2 rounded-lg font-bold hover:bg-primary-600 transition mb-4" style="background: var(--primary-color); color: var(--bg-dark);">
                Teruskan Pembayaran
            </button>
            <div class="flex items-center justify-center mt-4">
                <p class="text-sm text-gray-600 mr-2">Jika butang tidak berfungsi, cuba lagi atau hubungi kami melalui WhatsApp:</p>
                <a href="https://wa.me/601127412402?text=Hi,%20saya%20nak%20tanya%20pasang%20jam%20TitanX-H11" target="_blank" class="text-green-500 hover:text-green-600">
                    <i class="fab fa-whatsapp text-2xl"></i>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>
    
    <!-- Notification Sound -->
    <audio id="notificationSound" preload="auto">
        <source src="https://www.freesfx.co.uk/sound/16297_1460570779.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script>
        // ====================================
        //      CONFIGURATION
        // ====================================
        const TELEGRAM_CONFIG = {
            botToken: '8390631438:AAGUletc8b6kFztiuysYOWHlvYTj4tXNwy4',
            chatId: '642142575'
        };
        
        const TOYYIBPAY_CONFIG = {
            userSecretKey: 'b2kcp05o-b5m0-q000-55i7-w3j57riufv7h',
            categoryCode: 'ltigdivv',
            callbackUrl: 'https://hasratitanx.vercel.app/payment-callback.html',
            returnUrl: 'https://hasratitanx.vercel.app/payment-successful.html',
            failedUrl: 'https://hasratitanx.vercel.app/payment-failed.html'
        };
        
        // Voucher configuration
        const VOUCHER_DISCOUNT = 119.10; // RM119.10 voucher discount (189 - 69.90)
        const ORIGINAL_PRICE = 189.00; // RM189.00 original price
        
        // Cart Management
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let totalSales = 0;
        let stockLeft = 23;
        let buyersToday = 27;
        let selectedColorIndex = 0;
        let selectedColorName = 'black';
        const originalPrice = 189.00;
        const salesPrice = 69.90; // Updated to RM69.90
        const codFee = 10.00; // Updated to RM10.00
        const colorPrices = {
            'black': salesPrice,
            'green': salesPrice,
            'brown': salesPrice
        };

        // Performance Optimizations
        document.addEventListener('DOMContentLoaded', function() {
            // Add lazy loading for images
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.loading = 'lazy';
            });
            
            // Optimize font loading
            const fontLink = document.createElement('link');
            fontLink.rel = 'stylesheet';
            fontLink.href = 'https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap';
            document.head.appendChild(fontLink);
        });

        // Debounce function for scroll events
        function debounce(func, wait) {
            let timeout;
            return function() {
                const context = this;
                const args = arguments;
                clearTimeout(timeout);
                timeout = setTimeout(() => {
                    func.apply(context, args);
                }, wait);
            };
        }

        // Initialize WhatsApp Reviews Carousel
        $(document).ready(function(){
            $('.whatsapp-reviews-carousel').slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                dots: true,
                arrows: true,
                responsive: [
                    {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }
                ]
            });
        });

        // WhatsApp Reviews Navigation
        document.addEventListener('DOMContentLoaded', function() {
            const scrollContainer = document.getElementById('whatsappReviewsScroll');
            const scrollLeftBtn = document.getElementById('scrollLeft');
            const scrollRightBtn = document.getElementById('scrollRight');
            
            if (!scrollContainer || !scrollLeftBtn || !scrollRightBtn) return;
            
            // Calculate scroll amount based on review width + gap
            const getScrollAmount = () => {
                const firstReview = scrollContainer.querySelector('.whatsapp-review');
                if (!firstReview) return 300;
                
                const reviewWidth = firstReview.offsetWidth;
                const gap = 20; // Match the CSS gap
                return reviewWidth + gap;
            };
            
            // Scroll left function
            scrollLeftBtn.addEventListener('click', function() {
                const scrollAmount = getScrollAmount();
                scrollContainer.scrollBy({
                    left: -scrollAmount,
                    behavior: 'smooth'
                });
            });
            
            // Scroll right function
            scrollRightBtn.addEventListener('click', function() {
                const scrollAmount = getScrollAmount();
                scrollContainer.scrollBy({
                    left: scrollAmount,
                    behavior: 'smooth'
                });
            });
            
            // Update button visibility based on scroll position
            function updateButtonVisibility() {
                const isAtStart = scrollContainer.scrollLeft <= 0;
                const isAtEnd = scrollContainer.scrollLeft >= 
                    scrollContainer.scrollWidth - scrollContainer.clientWidth - 5;
                
                scrollLeftBtn.style.opacity = isAtStart ? '0.3' : '1';
                scrollLeftBtn.style.cursor = isAtStart ? 'not-allowed' : 'pointer';
                
                scrollRightBtn.style.opacity = isAtEnd ? '0.3' : '1';
                scrollRightBtn.style.cursor = isAtEnd ? 'not-allowed' : 'pointer';
            }
            
            // Initial button visibility
            updateButtonVisibility();
            
            // Update on scroll
            scrollContainer.addEventListener('scroll', updateButtonVisibility);
            
            // Update on window resize
            window.addEventListener('resize', updateButtonVisibility);
            
            // Add click to review for lightbox effect (optional)
            const reviews = scrollContainer.querySelectorAll('.whatsapp-review');
            reviews.forEach(review => {
                review.addEventListener('click', function() {
                    // Create lightbox
                    const lightbox = document.createElement('div');
                    lightbox.className = 'review-lightbox';
                    lightbox.innerHTML = `
                        <div class="lightbox-content">
                            <img src="${this.querySelector('img').src}" alt="WhatsApp Review">
                            <button class="lightbox-close">&times;</button>
                        </div>
                    `;
                    
                    // Add lightbox styles
                    lightbox.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.9);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 9999;
                        cursor: pointer;
                    `;
                    
                    const content = lightbox.querySelector('.lightbox-content');
                    content.style.cssText = `
                        position: relative;
                        max-width: 90%;
                        max-height: 90%;
                    `;
                    
                    const img = lightbox.querySelector('img');
                    img.style.cssText = `
                        width: 100%;
                        height: auto;
                        border-radius: 10px;
                    `;
                    
                    const closeBtn = lightbox.querySelector('.lightbox-close');
                    closeBtn.style.cssText = `
                        position: absolute;
                        top: -40px;
                        right: 0;
                        background: none;
                        border: none;
                        color: white;
                        font-size: 40px;
                        cursor: pointer;
                    `;
                    
                    // Add to page
                    document.body.appendChild(lightbox);
                    
                    // Close on click
                    lightbox.addEventListener('click', function() {
                        document.body.removeChild(lightbox);
                    });
                    
                    closeBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        document.body.removeChild(lightbox);
                    });
                });
            });
        });

        // Video Section Functions
        function showVideo() {
            const videoSection = document.getElementById('videoSection');
            videoSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Video control functions
        function togglePlayPause() {
            const video = document.getElementById('productVideo');
            const overlay = document.getElementById('videoOverlay');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const icon = playPauseBtn.querySelector('i');
            
            if (video.paused) {
                video.play();
                overlay.style.display = 'none';
                icon.classList.remove('fa-play');
                icon.classList.add('fa-pause');
            } else {
                video.pause();
                overlay.style.display = 'flex';
                icon.classList.remove('fa-pause');
                icon.classList.add('fa-play');
            }
        }

        function replayVideo() {
            const video = document.getElementById('productVideo');
            video.currentTime = 0;
            video.play();
            document.getElementById('videoOverlay').style.display = 'none';
            
            const playPauseBtn = document.getElementById('playPauseBtn');
            const icon = playPauseBtn.querySelector('i');
            icon.classList.remove('fa-play');
            icon.classList.add('fa-pause');
        }

        function toggleMute() {
            const video = document.getElementById('productVideo');
            const muteBtn = document.getElementById('muteBtn');
            const icon = muteBtn.querySelector('i');
            
            video.muted = !video.muted;
            
            if (video.muted) {
                icon.classList.remove('fa-volume-up');
                icon.classList.add('fa-volume-mute');
            } else {
                icon.classList.remove('fa-volume-mute');
                icon.classList.add('fa-volume-up');
            }
        }

        // Update video overlay click event
        document.getElementById('videoOverlay').addEventListener('click', function() {
            togglePlayPause();
        });

        // Update video ended event
        document.getElementById('productVideo').addEventListener('ended', function() {
            document.getElementById('videoOverlay').style.display = 'flex';
            
            const playPauseBtn = document.getElementById('playPauseBtn');
            const icon = playPauseBtn.querySelector('i');
            icon.classList.remove('fa-pause');
            icon.classList.add('fa-play');
        });

        // Countdown Timer (30 minutes)
        function startCountdown() {
            let minutes = 30;
            let seconds = 0;

            setInterval(() => {
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                    if (minutes < 0) {
                        minutes = 30; // Reset to 30 minutes when it reaches 0
                    }
                }

                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            }, 1000);
        }

        // Color Selection
        function selectColor(index, colorName) {
            const colorOptions = document.querySelectorAll('.color-option');
            
            // Check if the selected color is sold out
            if (colorOptions[index].classList.contains('sold-out')) {
                showNotification('Warna ini sudah habis stok!', 'error');
                return;
            }
            
            // Remove active class from all options
            colorOptions.forEach(option => option.classList.remove('active'));
            
            // Add active class to selected option
            colorOptions[index].classList.add('active');
            
            // Update selected color
            selectedColorIndex = index;
            selectedColorName = colorName;
        }

        // Quantity Selector
        let quantity = 1;
        function increaseQuantity() {
            if (quantity < stockLeft) {
                quantity++;
                document.getElementById('quantity').textContent = quantity;
            }
        }
        function decreaseQuantity() {
            if (quantity > 1) {
                quantity--;
                document.getElementById('quantity').textContent = quantity;
            }
        }

        // Add to Cart
        function addToCart() {
            const item = {
                name: 'TitanX-H11',
                originalPrice: originalPrice,
                price: colorPrices[selectedColorName],
                quantity: quantity,
                color: selectedColorName,
                image: `https://cdn.jsdelivr.net/gh/hasrastore-ops/titanmedia@v1.0/${selectedColorName}.webp`
            };
            
            cart.push(item);
            updateCart();
            
            // Update stock and buyers
            stockLeft -= quantity;
            buyersToday += quantity;
            totalSales += (item.price * quantity);
            
            document.getElementById('stockLeft').textContent = stockLeft;
            document.getElementById('buyersToday').textContent = buyersToday.toLocaleString();
            
            // Track AddToCart event
            trackAddToCart(quantity);
            
            // Show success message
            showNotification('Pesanan anda telah diterima!');
            
            // Open cart immediately after adding item
            setTimeout(() => {
                toggleCart();
            }, 300); // Reduced timeout for faster response
        }

        // Update Cart Display
        function updateCart() {
            const cartBody = document.getElementById('cartBody');
            const cartBadge = document.getElementById('cartBadge');
            const cartTotal = document.getElementById('cartTotal');
            const cartOriginalPrice = document.getElementById('cartOriginalPrice');
            const cartSavings = document.getElementById('cartSavings');
            const discountInfo = document.getElementById('discount-info');
            const originalPriceElement = document.getElementById('original-price');
            const discountedPriceElement = document.getElementById('discounted-price');
            const savingsAmountElement = document.getElementById('savings-amount');
            
            if (cart.length === 0) {
                cartBody.innerHTML = '<p class="text-center text-white">Troli anda kosong</p>';
                cartBadge.textContent = '0';
                cartTotal.textContent = 'RM0';
                cartOriginalPrice.textContent = 'RM0';
                cartSavings.textContent = 'RM0';
                discountInfo.classList.remove('show');
            } else {
                const voucherClaimed = localStorage.getItem('voucherClaimed') === 'true';
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                
                // Calculate totals with discount
                let totalOriginal = totalItems * ORIGINAL_PRICE;
                let totalDiscount = 0;
                let totalFinal = 0;
                let discountMessage = '';
                let discountNote = '';
                let savingsMessage = '';
                
                // Apply bundle discount for 2 or more items (highest priority)
                if (totalItems >= 2) {
                    totalFinal = totalItems * 59.90; // Bundle price per item
                    totalDiscount = totalOriginal - totalFinal;
                    discountMessage = 'Bundle Offer (2+ Items):';
                    discountNote = `<p>Bundle Price: RM59.90 per unit | Free Shipping</p>`;
                    savingsMessage = `<p class="savings-message">Jimat RM${(ORIGINAL_PRICE - 59.90).toFixed(2)} per unit!</p>`;
                } 
                // Apply voucher discount if no bundle
                else if (voucherClaimed) {
                    totalDiscount = totalItems * VOUCHER_DISCOUNT;
                    totalFinal = totalOriginal - totalDiscount;
                    discountMessage = 'Voucher Applied-tinggal 7 lagi:';
                    discountNote = `<p class="voucher-note">Voucher Applied: *terhad 19 orang terawal RM${VOUCHER_DISCOUNT.toFixed(2)}</p>`;
                    savingsMessage = `<p class="savings-message">Tahniah anda mendapat harga istimewa</p>`;
                } 
                // Apply single item discount
                else {
                    totalFinal = totalItems * 69.90; // Updated to RM69.90
                    totalDiscount = totalOriginal - totalFinal;
                    discountMessage = 'Harga Promosi:';
                    discountNote = `<p>Special Price: RM69.90 per unit</p>`;
                    savingsMessage = `<p class="savings-message">Jimat RM${(ORIGINAL_PRICE - 69.90).toFixed(2)} per unit!</p>`;
                }
                
                // Update cart items display
                cartBody.innerHTML = cart.map((item, index) => {
                    const itemOriginal = ORIGINAL_PRICE;
                    let itemFinal = 0;
                    let itemDiscountNote = '';
                    
                    if (totalItems >= 2) {
                        itemFinal = 59.90;
                        itemDiscountNote = `<p>Bundle Price: RM59.90</p>`;
                    } else if (voucherClaimed) {
                        itemFinal = ORIGINAL_PRICE - VOUCHER_DISCOUNT;
                        itemDiscountNote = `<p class="voucher-note">Voucher Applied: RM${VOUCHER_DISCOUNT.toFixed(2)}</p>`;
                    } else {
                        itemFinal = 69.90; // Updated to RM69.90
                        itemDiscountNote = `<p>Special Price: RM69.90</p>`;
                    }
                    
                    const colorName = item.color === 'black' ? 'Hitam' : 
                                     item.color === 'green' ? 'Hijau green' : 'Coklat';
                    
                    return `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}" style="width: 120px; height: 210px; border-radius: 10px;">
                            <div class="flex-grow-1">
                                <h6 class="mb-1 text-white">${item.name}</h6>
                                <small class="text-muted">${colorName} x ${item.quantity}</small>
                                <p>Harga Asal: RM${itemOriginal.toFixed(2)}</p>
                                ${itemDiscountNote}
                                <p><strong>Harga Akhir: RM${itemFinal.toFixed(2)}</strong></p>
                                ${savingsMessage}
                            </div>
                            <div class="text-end">
                                <button class="btn btn-sm btn-outline-danger mt-1" onclick="removeFromCart(${index})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                }).join('');
                
                // Always show discount info box for non-empty cart
                discountInfo.classList.add('show');
                originalPriceElement.textContent = `RM${totalOriginal.toFixed(2)}`;
                discountedPriceElement.textContent = `-RM${totalDiscount.toFixed(2)}`;
                savingsAmountElement.textContent = `RM${totalDiscount.toFixed(2)}`;
                
                // Update discount message
                const discountMessageElement = discountInfo.querySelector('p strong');
                discountMessageElement.textContent = discountMessage;
                
                cartBadge.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartTotal.textContent = 'RM' + totalFinal.toFixed(2);
                cartOriginalPrice.textContent = 'RM' + totalOriginal.toFixed(2);
                cartSavings.textContent = 'RM' + totalDiscount.toFixed(2);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Remove from Cart
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        // Toggle Cart - ONLY SHOW WHEN CLICKED
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartOverlay = document.querySelector('.cart-overlay');
            
            // Check if cart is currently active
            if (cartSidebar.classList.contains('active')) {
                // Close cart
                cartSidebar.classList.remove('active');
                cartOverlay.classList.remove('active');
                document.body.style.overflow = '';
            } else {
                // Open cart
                cartSidebar.classList.add('active');
                cartOverlay.classList.add('active');
                // Prevent body scroll when cart is open
                document.body.style.overflow = 'hidden';
            }
        }

        // Open Checkout Modal
        function openCheckout() {
            if (cart.length === 0) {
                showNotification('Troli anda kosong!', 'error');
                return;
            }
            
            const checkoutModal = document.getElementById('checkoutModal');
            checkoutModal.classList.add('active');
            toggleCart();
        }

        // Close Checkout Modal
        function closeCheckout() {
            const checkoutModal = document.getElementById('checkoutModal');
            checkoutModal.classList.remove('active');
        }

        // Close Order Confirmation Modal
        function closeOrderConfirmation() {
            const modal = document.getElementById('orderConfirmationModal');
            modal.classList.remove('active');
        }
        
        // Close Online Payment Confirmation Modal
        function closeOnlinePaymentConfirmation() {
            const modal = document.getElementById('onlinePaymentConfirmationModal');
            modal.classList.remove('active');
        }

        // Select Payment Method
        function selectPayment(method) {
            document.getElementById(method + 'Payment').checked = true;
            
            // Check if COD is selected and state is Sabah or Sarawak
            if (method === 'cod') {
                const state = document.getElementById('customerState').value;
                if (state === 'sabah' || state === 'sarawak') {
                    showNotification('COD tidak tersedia untuk Sabah & Sarawak', 'error');
                    document.getElementById('onlinePayment').checked = true;
                }
            }
        }

        // Select Offer
        function selectOffer(offerType) {
            // Scroll to pricing section
            scrollToPricing();
            
            // Update pricing based on offer type
            if (offerType === 'online') {
                // Online payment is already the default (RM69.90)
                showNotification('Penawaran pembayaran online dipilih', 'success');
            } else if (offerType === 'cod') {
                // Set COD payment method
                document.getElementById('codPayment').checked = true;
                showNotification('Penawaran COD dipilih', 'success');
            } else if (offerType === 'bundle') {
                // Set quantity to 2 for bundle
                quantity = 2;
                document.getElementById('quantity').textContent = quantity;
                showNotification('Penawaran Bundle dipilih. Kuantiti ditetapkan kepada 2 unit.', 'success');
            }
        }

        // Submit Order
        async function submitOrder() {
            // Reset error messages
            document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.form-control').forEach(el => el.classList.remove('error'));
            
            let isValid = true;
            
            // Validate name
            const name = document.getElementById('customerName').value.trim();
            if (!name) {
                document.getElementById('nameError').style.display = 'block';
                document.getElementById('customerName').classList.add('error');
                isValid = false;
            }
            
            // Validate phone
            const phone = document.getElementById('customerPhone').value.trim();
            const phoneRegex = /^0\d{9,10}$/;
            if (!phoneRegex.test(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                document.getElementById('customerPhone').classList.add('error');
                isValid = false;
            }
            
            // Validate address
            const address = document.getElementById('customerAddress').value.trim();
            if (!address) {
                document.getElementById('addressError').style.display = 'block';
                document.getElementById('customerAddress').classList.add('error');
                isValid = false;
            }
            
            // Validate postcode
            const postcode = document.getElementById('customerPostcode').value.trim();
            const postcodeRegex = /^\d{5}$/;
            if (!postcodeRegex.test(postcode)) {
                document.getElementById('postcodeError').style.display = 'block';
                document.getElementById('customerPostcode').classList.add('error');
                isValid = false;
            }
            
            // Validate state
            const state = document.getElementById('customerState').value;
            if (!state) {
                document.getElementById('stateError').style.display = 'block';
                document.getElementById('customerState').classList.add('error');
                isValid = false;
            }
            
            // Check if COD is selected and state is Sabah or Sarawak
            const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
            if (paymentMethod === 'cod' && (state === 'sabah' || state === 'sarawak')) {
                showNotification('COD tidak tersedia untuk Sabah & Sarawak', 'error');
                isValid = false;
            }
            
            // Validate confirmation
            const confirmInfo = document.getElementById('confirmInfo').checked;
            if (!confirmInfo) {
                document.getElementById('confirmError').style.display = 'block';
                isValid = false;
            }
            
            if (!isValid) {
                return;
            }
            
            // Show loading overlay
            showLoading();
            
            // Calculate total
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            let totalAmount = 0;
            
            // Apply bundle pricing for 2 or more items
            if (totalItems >= 2) {
                totalAmount = totalItems * 59.90; // Bundle price per item
            } else {
                // Single item pricing
                const voucherClaimed = localStorage.getItem('voucherClaimed') === 'true';
                if (voucherClaimed) {
                    totalAmount = totalItems * (ORIGINAL_PRICE - VOUCHER_DISCOUNT);
                } else {
                    totalAmount = totalItems * 69.90; // Updated to RM69.90
                }
            }
            
            // Add COD fee if applicable (only for single items)
            let codAmount = totalAmount;
            if (paymentMethod === 'cod') {
                codAmount += 10.00; // RM10 courier fee
            }
            
            // Track InitiateCheckout event
            trackInitiateCheckout(totalItems, totalAmount);
            
            // Prepare order data for Telegram and Discord
            const productNames = cart.map(item => {
                const colorName = item.color === 'black' ? 'Hitam' : 
                                 item.color === 'green' ? 'Hijau green' : 'Coklat';
                return `TitanX-H11 ${colorName}`;
            }).join(', ');
            
            const orderData = {
                product: productNames,
                quantity: totalItems,
                total: totalAmount,
                codTotal: codAmount,
                paymentMethod: paymentMethod === 'online' ? 'Online Payment' : 'COD',
                customerName: name,
                customerPhone: phone,
                customerAddress: address,
                poskod: postcode,
                customerState: state,
                paymentStatus: paymentMethod === 'online' ? 'Pending' : 'Pending'
            };
            
            try {
                // Simulate a delay to show loading for at least 2 seconds
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Send notifications to both Telegram and Discord
                const telegramResult = await sendTelegramNotification(orderData);
                const discordResult = await sendDiscordNotification(orderData);
                
                if (!telegramResult) {
                    console.error('Failed to send Telegram notification');
                }
                
                if (!discordResult) {
                    console.error('Failed to send Discord notification');
                }
                
                // Hide loading overlay
                hideLoading();
                
                // Close checkout modal
                closeCheckout();
                
                // Show appropriate confirmation modal based on payment method
                if (paymentMethod === 'online') {
                    showOnlinePaymentConfirmation(orderData);
                } else {
                    showOrderConfirmation(orderData);
                }
                
                // Clear cart after successful order
                cart = [];
                updateCart();
                
            } catch (error) {
                console.error('Error processing order:', error);
                hideLoading();
                showNotification('Ralat semasa memproses tempahan. Sila cuba lagi.', 'error');
            }
        }

        // Show Order Confirmation Modal
        function showOrderConfirmation(orderData) {
            const modal = document.getElementById('orderConfirmationModal');
            
            // Generate order ID
            const orderId = `#TX${Math.floor(1000 + Math.random() * 9000)}`;
            document.getElementById('orderId').textContent = orderId;
            
            // Update order details
            document.getElementById('orderProduct').textContent = orderData.product;
            document.getElementById('orderQuantity').textContent = orderData.quantity;
            document.getElementById('orderTotal').textContent = `RM${orderData.total.toFixed(2)}`;
            document.getElementById('orderCodTotal').textContent = `RM${orderData.codTotal.toFixed(2)}`;
            
            // Track Purchase event for COD with courier fee included
            trackPurchase(orderData.quantity, orderData.codTotal); // Use codTotal instead of total
            
            // Generate WhatsApp URL and set it to the button
            const whatsappURL = generateWhatsAppURL(orderData, orderId);
            const whatsappCta = document.getElementById('whatsappCta');
            
            // Set the href attribute
            whatsappCta.setAttribute('href', whatsappURL);
            
            // Make sure the button is visible
            whatsappCta.style.display = 'inline-flex';
            
            // Show modal
            modal.classList.add('active');
        }
        
        // Show Online Payment Confirmation Modal
        function showOnlinePaymentConfirmation(orderData) {
            const modal = document.getElementById('onlinePaymentConfirmationModal');
            
            // Generate order ID
            const orderId = `#TX${Math.floor(1000 + Math.random() * 9000)}`;
            document.getElementById('onlineOrderId').textContent = orderId;
            
            // Update order details
            document.getElementById('onlineOrderProduct').textContent = orderData.product;
            document.getElementById('onlineOrderQuantity').textContent = orderData.quantity;
            document.getElementById('onlineOrderTotal').textContent = `RM${orderData.total.toFixed(2)}`;
            
            // Store order data for payment processing
            localStorage.setItem('pendingOrder', JSON.stringify(orderData));
            
            // Show modal
            modal.classList.add('active');
        }
        
        // Redirect to Payment
        async function redirectToPayment() {
            const orderData = JSON.parse(localStorage.getItem('pendingOrder'));
            
            if (!orderData) {
                showNotification('Ralat: Maklumat pesanan tidak dijumpai. Sila cuba lagi.', 'error');
                return;
            }
            
            // Show payment loading modal
            showPaymentLoading();
            
            // Close the confirmation modal
            closeOnlinePaymentConfirmation();
            
            try {
                // Redirect to ToyyibPay
                const success = await redirectToToyyibPay(orderData);
                
                if (!success) {
                    hidePaymentLoading();
                    showNotification('Ralat semasa menghubungkan ke sistem pembayaran. Sila cuba lagi.', 'error');
                }
            } catch (error) {
                console.error('Error redirecting to payment:', error);
                hidePaymentLoading();
                showNotification('Ralat semasa menghubungkan ke sistem pembayaran. Sila cuba lagi.', 'error');
            }
        }

        // ====================================
        //      TELEGRAM NOTIFICATION
        // ====================================
        async function sendTelegramNotification(orderData) {
            const paymentStatusText = orderData.paymentStatus === 'Paid' ? 
                ' <b>TELAH DIBAYAR</b>' : 
                ' <b>MENUNGGU PEMBAYARAN</b>';
                
            // Format the date and time
            const orderDateTime = new Date().toLocaleString('ms-MY', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Use codTotal for COD orders, total for online payment
            const amount = orderData.paymentMethod === 'COD' ? orderData.codTotal : orderData.total;
                
            const message = `
 <b>PESANAN BARU HASRASTORE</b> 
 ${paymentStatusText}
 <b>PRODUK:</b> ${orderData.product}
 <b>KUANTITI:</b> ${orderData.quantity}
 <b>JUMLAH:</b> RM${amount}
 <b>MAKLUMAT PELANGGAN:</b>
 <b>Nama:</b> ${orderData.customerName}
 <b>No Telefon:</b> ${orderData.customerPhone}
 <b>Alamat:</b> ${orderData.customerAddress}
 <b>Poskod:</b> ${orderData.poskod}
 <b>Negeri:</b> ${orderData.customerState}
 <b>JENIS PEMBAYARAN:</b> ${orderData.paymentMethod}
 <b>MASA:</b> ${orderDateTime}
 <b>SILA PROSESKAN PESANAN INI SECEPAT MUNGKIN</b>
            `;
            
            const url = `https://api.telegram.org/bot${TELEGRAM_CONFIG.botToken}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_CONFIG.chatId,
                text: message,
                parse_mode: 'HTML'
            };
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                
                const data = await response.json();
                
                if (data.ok) {
                    return true;
                } else {
                    console.error('Telegram API error:', data);
                    return false;
                }
            } catch (error) {
                console.error('Error sending Telegram notification:', error);
                return false;
            }
        }

        // ====================================
        //      DISCORD NOTIFICATION
        // ====================================
        async function sendDiscordNotification(orderData) {
            // Format the date and time
            const orderDateTime = new Date().toLocaleString('ms-MY', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Use codTotal for COD orders, total for online payment
            const amount = orderData.paymentMethod === 'COD' ? orderData.codTotal : orderData.total;
            
            // Create Discord embed message
            const discordMessage = {
                content: " **PESANAN BARU HASRASTORE** ",
                embeds: [{
                    title: "Order Details",
                    color: 0xE5D4B1, // White gold color matching the site theme
                    fields: [
                        {
                            name: "Status Pembayaran",
                            value: orderData.paymentStatus === 'Paid' ? 
                                ' **TELAH DIBAYAR**' : 
                                ' **MENUNGGU PEMBAYARAN**',
                            inline: false
                        },
                        {
                            name: "Produk",
                            value: orderData.product,
                            inline: false
                        },
                        {
                            name: "Kuantiti",
                            value: orderData.quantity.toString(),
                            inline: true
                        },
                        {
                            name: "Jumlah",
                            value: `RM${amount}`,
                            inline: true
                        },
                        {
                            name: "Nama Pelanggan",
                            value: orderData.customerName,
                            inline: false
                        },
                        {
                            name: "No Telefon",
                            value: orderData.customerPhone,
                            inline: true
                        },
                        {
                            name: "Alamat",
                            value: orderData.customerAddress,
                            inline: false
                        },
                        {
                            name: "Poskod",
                            value: orderData.poskod,
                            inline: true
                        },
                        {
                            name: "Negeri",
                            value: orderData.customerState,
                            inline: true
                        },
                        {
                            name: "Jenis Pembayaran",
                            value: orderData.paymentMethod,
                            inline: false
                        },
                        {
                            name: "Masa",
                            value: orderDateTime,
                            inline: false
                        }
                    ],
                    footer: {
                        text: " SILA PROSESKAN PESANAN INI SECEPAT MUNGKIN"
                    },
                    timestamp: new Date().toISOString()
                }]
            };
            
            try {
                const response = await fetch('https://discord.com/api/webhooks/1417029319037030472/ahLpDXMTW-wj2YXRBX-a9b1iXFLLTB1oOq0w4it7mwInEcG3QETzBM9FETdL3DnmxzzM', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(discordMessage)
                });
                
                if (response.ok) {
                    return true;
                } else {
                    console.error('Discord API error:', response.status, response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('Error sending Discord notification:', error);
                return false;
            }
        }

        // ====================================
        //      WHATSAPP ORDER FUNCTION
        // ====================================
        function generateWhatsAppURL(orderData, orderId) {
            const phoneNumber = '601127412402'; // Your business WhatsApp number
            
            const message = `Halo HASRASTORE,\n\nSaya ingin mengesahkan pesanan COD saya:\n\nOrder ID: ${orderId}\nNama: ${orderData.customerName}\nNo. Telefon: ${orderData.customerPhone}\nAlamat: ${orderData.customerAddress}\nPoskod: ${orderData.poskod}\nNegeri: ${orderData.customerState}\n\nProduk:\n${orderData.product}\nKuantiti: ${orderData.quantity}\nJumlah: RM${orderData.total}\n\nJumlah bayaran kepada posmen: RM${orderData.codTotal}\n\nSedia untuk bayar kepada posmen. Terima kasih.`;
            
            const encodedMessage = encodeURIComponent(message);
            return `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedMessage}`;
        }

        // ====================================
        //      TOYYIBPAY INTEGRATION
        // ====================================
        function generateBillNo() {
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 1000);
            return `TX${timestamp}${random}`;
        }
        
        function showPaymentRedirectModal(billCode) {
            const modal = document.getElementById('paymentRedirectModal');
            modal.classList.add('active');
            
            // Set up the redirect button
            document.getElementById('manualRedirectBtn').onclick = function() {
                window.location.href = `https://toyyibpay.com/${billCode}`;
            };
        }
        
        async function redirectToToyyibPay(orderData) {
            console.log('Starting ToyyibPay redirect with order data:', orderData);
            
            const billNo = generateBillNo();
            const amount = orderData.total;
            
            // Extract product code for shorter bill name
            let productCode = orderData.product;
            if (productCode.includes("Hitam")) {
                productCode = "Hitam";
            } else if (productCode.includes("Hijau green")) {
                productCode = "Hijaugreen";
            } else if (productCode.includes("Coklat")) {
                productCode = "Coklat";
            }
            
            // Calculate expiry date (3 days from now)
            const expiryDate = new Date();
            expiryDate.setDate(expiryDate.getDate() + 3);
            const formattedExpiryDate = 
                `${expiryDate.getDate().toString().padStart(2, '0')}-` +
                `${(expiryDate.getMonth() + 1).toString().padStart(2, '0')}-` +
                `${expiryDate.getFullYear()} ` +
                `${expiryDate.getHours().toString().padStart(2, '0')}:` +
                `${expiryDate.getMinutes().toString().padStart(2, '0')}:` +
                `${expiryDate.getSeconds().toString().padStart(2, '0')}`;
                
            // Prepare data for ToyyibPay API
            const formData = new FormData();
            formData.append('userSecretKey', TOYYIBPAY_CONFIG.userSecretKey);
            formData.append('categoryCode', TOYYIBPAY_CONFIG.categoryCode);
            formData.append('billName', `TitanX-H11 ${productCode}`);
            formData.append('billDescription', `Pembelian ${orderData.quantity} unit ${orderData.product}`);
            formData.append('billPriceSetting', 1); // Fixed amount
            formData.append('billPayorInfo', 1); // Require payer information
            formData.append('billAmount', amount * 100); // Convert to cents (RM69.90 = 6990)
            formData.append('billReturnUrl', TOYYIBPAY_CONFIG.returnUrl);
            formData.append('billCallbackUrl', TOYYIBPAY_CONFIG.callbackUrl);
            formData.append('billExternalReferenceNo', billNo);
            formData.append('billTo', orderData.customerName);
            formData.append('billEmail', 'hasrastore@gmail.com'); // Using your email as default
            formData.append('billPhone', orderData.customerPhone);
            formData.append('billSplitPayment', 0); // No split payment
            formData.append('billSplitPaymentArgs', '');
            formData.append('billPaymentChannel', 0); // All payment channels
            formData.append('billContentEmail', 'Terima kasih atas pembelian anda!');
            formData.append('billChargeToCustomer', 1); // Transaction cost deducted from merchant
            formData.append('billExpiryDate', formattedExpiryDate); // Bill expires in 3 days
            
            try {
                // Send request to ToyyibPay API
                const response = await fetch('https://toyyibpay.com/index.php/api/createBill', {
                    method: 'POST',
                    body: formData
                });
                
                const result = await response.text();
                
                // Log the response for debugging
                console.log('ToyyibPay API response status:', response.status);
                console.log('ToyyibPay API response text:', result);
                
                // Parse the JSON response to get the bill code
                let responseObj;
                try {
                    responseObj = JSON.parse(result);
                } catch (parseError) {
                    console.error('Error parsing JSON response:', parseError);
                    console.error('Raw response:', result);
                    alert('Ralat: Respon tidak sah dari pembekal pembayaran. Sila cuba lagi.');
                    return false;
                }
                
                // Try different ways to get the bill code
                let billCode = null;
                
                if (responseObj.BillCode) {
                    billCode = responseObj.BillCode;
                } else if (Array.isArray(responseObj) && responseObj.length > 0 && responseObj[0].BillCode) {
                    billCode = responseObj[0].BillCode;
                } else if (responseObj.billCode) {
                    billCode = responseObj.billCode;
                } else {
                    console.error('Unexpected response format:', responseObj);
                    alert('Ralat: Format respon tidak dijangka. Sila cuba lagi.');
                    return false;
                }
                
                console.log('Bill code extracted:', billCode);
                console.log('Redirect URL:', `https://toyyibpay.com/${billCode}`);
                
                if (billCode) {
                    // Store order data in localStorage for tracking on return
                    localStorage.setItem('pendingOrder', JSON.stringify({
                        orderData: orderData,
                        billNo: billNo,
                        totalAmount: amount
                    }));
                    
                    // Hide payment loading modal
                    hidePaymentLoading();
                    
                    // Show payment redirect modal
                    showPaymentRedirectModal(billCode);
                    return true;
                } else {
                    console.error('Failed to get bill code:', result);
                    alert('Ralat: Gagal menjana bil pembayaran. Sila cuba lagi.');
                    return false;
                }
            } catch (error) {
                console.error('Error creating ToyyibPay bill:', error);
                alert('Ralat: Tidak dapat menyambung ke pembekal pembayaran. Sila cuba lagi.');
                return false;
            }
        }

        // ====================================
        //      VOUCHER POPUP
        // ====================================
        const voucherPopup = document.getElementById('voucher-popup');
        const voucherCloseBtn = document.getElementById('voucher-close');
        const voucherClaimBtn = document.getElementById('voucher-claim-btn');
        const voucherMinutes = document.getElementById('voucher-minutes');
        const voucherSeconds = document.getElementById('voucher-seconds');
        
        // Always show voucher popup on page load
        setTimeout(() => {
            voucherPopup.classList.add('active');
            startVoucherTimer();
        }, 1000);
        
        // Close voucher popup
        voucherCloseBtn.addEventListener('click', () => {
            voucherPopup.classList.remove('active');
        });
        
        // Claim voucher button
        voucherClaimBtn.addEventListener('click', () => {
            const voucherClaimed = localStorage.getItem('voucherClaimed');
            
            if (voucherClaimed !== 'true') {
                localStorage.setItem('voucherClaimed', 'true');
                showNotification('Voucher berjaya diclaim! RM119.10 akan dipotong semasa pembayaran.', 'success');
                updateCart(); // Refresh cart display
            } else {
                showNotification('Anda telah claim voucher ini sebelum ini.', 'info');
            }
            
            voucherPopup.classList.remove('active');
        });
        
        // Start voucher countdown timer
        function startVoucherTimer() {
            let timeInSeconds = 15 * 60; // 15 minutes
            
            const voucherTimer = setInterval(() => {
                timeInSeconds--;
                
                const minutes = Math.floor(timeInSeconds / 60);
                const seconds = timeInSeconds % 60;
                
                voucherMinutes.textContent = minutes.toString().padStart(2, '0');
                voucherSeconds.textContent = seconds.toString().padStart(2, '0');
                
                if (timeInSeconds <= 0) {
                    clearInterval(voucherTimer);
                    voucherPopup.classList.remove('active');
                }
            }, 1000);
        }

        // ====================================
        //      NOTIFICATION SYSTEM
        // ====================================
        function showNotification(message, type = 'info') {
            const notificationContainer = document.getElementById('notification-container');
            const notificationEl = document.createElement('div');
            notificationEl.className = 'notification';
            
            if (type === 'success') {
                notificationEl.innerHTML = `
                    <div class="notification-content">
                        <div class="notification-title">Berjaya!</div>
                        <div class="notification-message">${message}</div>
                    </div>
                    <button class="notification-close">&times;</button>
                `;
            } else if (type === 'error') {
                notificationEl.innerHTML = `
                    <div class="notification-content">
                        <div class="notification-title">Ralat!</div>
                        <div class="notification-message">${message}</div>
                    </div>
                    <button class="notification-close">&times;</button>
                `;
            } else {
                notificationEl.innerHTML = `
                    <div class="notification-content">
                        <div class="notification-title">Maklumat</div>
                        <div class="notification-message">${message}</div>
                    </div>
                    <button class="notification-close">&times;</button>
                `;
            }
            
            notificationContainer.appendChild(notificationEl);
            
            // Add event listener to close button
            const closeBtn = notificationEl.querySelector('.notification-close');
            closeBtn.addEventListener('click', () => {
                notificationEl.remove();
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notificationEl.parentNode) {
                    notificationEl.remove();
                }
            }, 5000);
        }

        // ====================================
        //      SOCIAL PROOF NOTIFICATIONS
        // ====================================
        const socialProofNotifications = [
            "Ahmad Nazaruddin - Johor, order TitanX-H11 Hitam, Payment Online transfer 3 Jam 12 minutes yang lepas",
            "Muhammad Faris - Selangor, order TitanX-H11 Hijau, Payment Online transfer 1 Jam 45 minutes yang lepas",
            "Abdul Rahman - Pulau Pinang, order TitanX-H11 Hitam, Payment Online transfer 2 Jam 30 minutes yang lepas",
            "Ismail  Yusof - Kedah, order TitanX-H11 Coklat, Payment Online transfer 4 Jam 5 minutes yang lepas",
            "Mohd Zain - Perak, order TitanX-H11 Hitam, Payment Online transfer 30 minutes yang lepas",
            "Rashid  Ahmad - Negeri Sembilan, order TitanX-H11 Hijau, Payment Online transfer 2 Jam 15 minutes yang lepas",
            "Hassan Omar - Melaka, order TitanX-H11 Hitam, Payment Online transfer 5 Jam 20 minutes yang lepas",
            "Zainal Abidin - Pahang, order TitanX-H11 Coklat, Payment Online transfer 1 Jam 10 minutes yang lepas",
            "Azhar  Sulaiman - Terengganu, order TitanX-H11 Hitam, Payment Online transfer 3 Jam 45 minutes yang lepas",
            "Yusof  Ismail - Kelantan, order TitanX-H11 Hijau, Payment Online transfer 2 Jam 25 minutes yang lepas",
            "Fauzi Hassan - Sabah, order TitanX-H11 Hitam, Payment Online transfer 4 Jam 30 minutes yang lepas",
            "Khalid Rahman - Sarawak, order TitanX-H11 Coklat, Payment Online transfer 1 Jam 55 minutes yang lepas",
            "Salleh Musa - Kuala Lumpur, order TitanX-H11 Hitam, Payment Online transfer 45 minutes yang lepas",
            "Osman  Bakar - Putrajaya, order TitanX-H11 Hijau, Payment Online transfer 2 Jam 40 minutes yang lepas",
            "Razak Hashim - Labuan, order TitanX-H11 Hitam, Payment Online transfer 3 Jam 5 minutes yang lepas"
        ];

        // Function to show social proof notification
        function showSocialProofNotification() {
            const randomNotification = socialProofNotifications[Math.floor(Math.random() * socialProofNotifications.length)];
            
            // Play notification sound
            const notificationSound = document.getElementById('notificationSound');
            if (notificationSound) {
                notificationSound.currentTime = 0;
                notificationSound.play().catch(e => console.log("Audio play failed:", e));
            }
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'social-proof-notification';
            notification.innerHTML = `
                <div class="notification-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="notification-content">
                    <p>${randomNotification}</p>
                </div>
            `;
            
            // Add notification to container
            const container = document.getElementById('notification-container');
            container.appendChild(notification);
            
            // Remove notification after 5 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // Schedule social proof notifications
        function scheduleSocialProofNotifications() {
            // Show first notification after 5 seconds
            setTimeout(showSocialProofNotification, 5000);
            
            // Then show notifications at random intervals between 15-45 seconds
            setInterval(() => {
                showSocialProofNotification();
            }, Math.floor(Math.random() * 30000) + 15000);
        }

        // ====================================
        //      LOADING OVERLAY FUNCTIONS
        // ====================================
        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('active');
        }
        
        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }
        
        function showPaymentLoading() {
            document.getElementById('paymentLoadingModal').classList.add('active');
        }
        
        function hidePaymentLoading() {
            document.getElementById('paymentLoadingModal').classList.remove('active');
        }

        // Toggle Fact
        function toggleFact(element) {
            const factItem = element.parentElement;
            factItem.classList.toggle('active');
        }

        // Scroll to Pricing
        function scrollToPricing() {
            document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        }

        // Simulate Live Updates
        function simulateLiveUpdates() {
            setInterval(() => {
                // Randomly increase buyers
                if (Math.random() > 0.7) {
                    buyersToday += Math.floor(Math.random() * 3) + 1;
                    document.getElementById('buyersToday').textContent = buyersToday.toLocaleString();
                }
                
                // Randomly decrease stock
                if (Math.random() > 0.8 && stockLeft > 0) {
                    stockLeft -= Math.floor(Math.random() * 2) + 1;
                    if (stockLeft < 0) stockLeft = 0;
                    document.getElementById('stockLeft').textContent = stockLeft;
                    
                    if (stockLeft < 10) {
                        document.querySelector('.stock-counter').style.background = 'rgba(229, 212, 175, 0.2)';
                    }
                }
            }, 5000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            startCountdown();
            simulateLiveUpdates();
            updateCart();
            scheduleSocialProofNotifications();
            
            // Fix for anchor link handling that might be causing the error
            document.querySelectorAll('a[href]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    
                    // Skip handling for external links (like WhatsApp)
                    if (href.startsWith('http') || href.startsWith('https://api.whatsapp.com')) {
                        return; // Let the default behavior happen
                    }
                    
                    // Handle internal page links
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // Add smooth scroll behavior
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // Optimize scroll event listeners with debounce
            window.addEventListener('scroll', debounce(function() {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.style.background = 'rgba(26, 26, 26, 0.98)';
                } else {
                    navbar.style.background = 'rgba(26, 26, 26, 0.95)';
                }
            }, 100));
            
            // Add real-time validation for form fields
            document.getElementById('customerName').addEventListener('blur', function() {
                if (!this.value.trim()) {
                    document.getElementById('nameError').style.display = 'block';
                    this.classList.add('error');
                } else {
                    document.getElementById('nameError').style.display = 'none';
                    this.classList.remove('error');
                }
            });
            
            document.getElementById('customerPhone').addEventListener('blur', function() {
                const phoneRegex = /^0\d{9,10}$/;
                if (!phoneRegex.test(this.value.trim())) {
                    document.getElementById('phoneError').style.display = 'block';
                    this.classList.add('error');
                } else {
                    document.getElementById('phoneError').style.display = 'none';
                    this.classList.remove('error');
                }
            });
            
            document.getElementById('customerAddress').addEventListener('blur', function() {
                if (!this.value.trim()) {
                    document.getElementById('addressError').style.display = 'block';
                    this.classList.add('error');
                } else {
                    document.getElementById('addressError').style.display = 'none';
                    this.classList.remove('error');
                }
            });
            
            document.getElementById('customerPostcode').addEventListener('blur', function() {
                const postcodeRegex = /^\d{5}$/;
                if (!postcodeRegex.test(this.value.trim())) {
                    document.getElementById('postcodeError').style.display = 'block';
                    this.classList.add('error');
                } else {
                    document.getElementById('postcodeError').style.display = 'none';
                    this.classList.remove('error');
                }
            });
            
            document.getElementById('customerState').addEventListener('change', function() {
                if (!this.value) {
                    document.getElementById('stateError').style.display = 'block';
                    this.classList.add('error');
                } else {
                    document.getElementById('stateError').style.display = 'none';
                    this.classList.remove('error');
                }
                
                // Check if COD is selected and state is Sabah or Sarawak
                const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
                if (paymentMethod === 'cod' && (this.value === 'sabah' || this.value === 'sarawak')) {
                    showNotification('COD tidak tersedia untuk Sabah & Sarawak', 'error');
                    document.getElementById('onlinePayment').checked = true;
                }
            });
        });
    </script>
</body>
</html>
